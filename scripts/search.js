(()=>{var r={733:e=>{function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function c(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}(e.exports=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,n,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(l(r=this._events[e]))return!1;if(c(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(a=r.slice()).length,o=0;o<n;o++)a[o].apply(this,i);return!0},r.prototype.on=r.prototype.addListener=function(e,t){if(c(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,c(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(t=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace)&&console.trace(),this;throw TypeError("listener must be a function")},r.prototype.once=function(e,t){var r;if(c(t))return r=!1,n.listener=t,this.on(e,n),this;throw TypeError("listener must be a function");function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}},r.prototype.removeListener=function(e,t){var r,n,i,o;if(!c(t))throw TypeError("listener must be a function");if(this._events&&this._events[e])if(i=(r=this._events[e]).length,n=-1,r===t||c(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(o=i;0<o--;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(this._events)if(this._events.removeListener)if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener"),this._events={}}else{if(c(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e]}else 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this},r.prototype.listeners=function(e){return this._events&&this._events[e]?c(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(c(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},103:(e,t,r)=>{var i=r(571),n=r(127),o=r(223),a=r(371),s=r(691);function c(e,t,r,n){return new i(e,t,r,n)}c.version=r(938),c.AlgoliaSearchHelper=i,c.SearchParameters=a,c.RecommendParameters=n,c.SearchResults=s,c.RecommendResults=o,e.exports=c},732:(e,t,r)=>{var n=r(733);function i(e,t,r){this.main=e,this.fn=t,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}r(14)(i,n),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},i.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)},e.exports=i},127:e=>{function r(e){this.params=(e=e||{}).params||[]}r.prototype={constructor:r,addParams:function(e){var t=this.params.slice();return t.push(e),new r({params:t})},removeParams:function(t){return new r({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(t,r){return this.params.filter(function(e){return void 0===r[e.$$id]}).map(function(e){e=Object.assign({},e,{indexName:t,threshold:e.threshold||0});return delete e.$$id,e})}},e.exports=r},223:e=>{function t(e,t){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(e){e=e.$$id;r[e]=t[e],r._rawResults[e]=t[e]})}t.prototype={constructor:t},e.exports=t},54:(e,t,r)=>{var i=r(110),n=r(317),c=r(383),o={addRefinement:function(e,t,r){var n;return o.isRefined(e,t,r)?e:(r=""+r,r=e[t]?e[t].concat(r):[r],(n={})[t]=r,i({},n,e))},removeRefinement:function(e,r,t){var n;return void 0===t?o.clearRefinement(e,function(e,t){return r===t}):(n=""+t,o.clearRefinement(e,function(e,t){return r===t&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return o.isRefined(e,t,r)?o.removeRefinement(e,t,r):o.addRefinement(e,t,r)},clearRefinement:function(i,o,a){var s,e;return void 0===o?n(i)?{}:i:"string"==typeof o?c(i,[o]):"function"==typeof o?(s=!1,e=Object.keys(i).reduce(function(e,t){var r=i[t]||[],n=r.filter(function(e){return!o(e,t,a)});return n.length!==r.length&&(s=!0),e[t]=n,e},{}),s?e:i):void 0},isRefined:function(e,t,r){var n=Boolean(e[t])&&0<e[t].length;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}};e.exports=o},371:(e,t,r)=>{var i=r(110),o=r(849),n=r(843),a=r(728),c=r(317),u=r(383),s=r(507),l=r(208),f=r(54);function h(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every(function(e,t){return h(r[t],e)}):e===r}function p(e){var n=e?p._parseNumbers(e):{},i=(void 0===n.userToken||l(n.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{},this);Object.keys(n).forEach(function(e){var t=-1!==p.PARAMETERS.indexOf(e),r=void 0!==n[e];!t&&r&&(i[e]=n[e])})}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(i){var n,o;return i instanceof p?i:(n={},["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t,r=i[e];"string"==typeof r&&(t=parseFloat(r),n[e]=isNaN(t)?r:t)}),Array.isArray(i.insideBoundingBox)&&(n.insideBoundingBox=i.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),i.numericRefinements&&(o={},Object.keys(i.numericRefinements).forEach(function(r){var n=i.numericRefinements[r]||{};o[r]={},Object.keys(n).forEach(function(e){var t=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});o[r][e]=t})}),n.numericRefinements=o),a(i,n))},p.make=function(e){var r=new p(e);return(e.hierarchicalFacets||[]).forEach(function(e){var t;e.rootPath&&0===(t=(r=0<(t=r.getHierarchicalRefinement(e.name)).length&&0!==t[0].indexOf(e.rootPath)?r.clearRefinements(e.name):r).getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}),r},p.validate=function(e,t){t=t||{};return e.tagFilters&&t.tagRefinements&&0<t.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&t.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&t.numericRefinements&&c(t.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):c(e.numericRefinements)&&t.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){e={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:f.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:f.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:f.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:f.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n,r=s(r);return this.isNumericRefined(e,t,r)?this:((n=a({},this.numericRefinements))[e]=a({},n[e]),n[e][t]?(n[e][t]=n[e][t].slice(),n[e][t].push(r)):n[e][t]=[r],this.setQueryParameters({numericRefinements:n}))},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,e){var i=e;return void 0!==i?this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&h(e.val,s(i))})}):this:void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(a){var s,t,e;return void 0===a?c(this.numericRefinements)?{}:this.numericRefinements:"string"==typeof a?u(this.numericRefinements,[a]):"function"==typeof a?(s=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,n){var i=t[n],o={},i=i||{};return Object.keys(i).forEach(function(t){var e=i[t]||[],r=[];e.forEach(function(e){a({val:e,op:t},n,"numeric")||r.push(e)}),r.length!==e.length&&(s=!0),o[t]=r}),e[n]=o,e},{}),s?e:this.numericRefinements):void 0},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return f.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:f.addRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return f.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:f.addRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:f.addRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},addTagRefinement:function(e){return this.isTagRefined(e)?this:(e={tagRefinements:this.tagRefinements.concat(e)},this.setQueryParameters(e))},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return f.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:f.removeRefinement(this.facetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return f.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:f.removeRefinement(this.facetsExcludes,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:f.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},removeTagRefinement:function(t){var e;return this.isTagRefined(t)?(e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})},this.setQueryParameters(e)):this},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsRefinements:f.toggleRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleExcludeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsExcludes:f.toggleRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return this.setQueryParameters({disjunctiveFacetsRefinements:f.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},toggleHierarchicalFacetRefinement:function(e,t){var r,n;if(this.isHierarchicalFacet(e))return r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration")},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var r;if(this.isHierarchicalFacet(e))return(r={})[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.")},removeHierarchicalFacetRefinement:function(e){var t;return this.isHierarchicalFacetRefined(e)?((t={})[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})):this},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&f.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){return!!this.isHierarchicalFacet(e)&&(e=this.getHierarchicalRefinement(e),t?-1!==e.indexOf(t):0<e.length)},isNumericRefined:function(e,t,r){var n,i;return void 0===r&&void 0===t?Boolean(this.numericRefinements[e]):(n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t],void 0!==r&&n?(r=s(r),t=void 0!==(e=this.numericRefinements[e][t],i=r,o(e,function(e){return h(e,i)})),n&&t):n)},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=n(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return n(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===r.indexOf(e)&&void 0!==t&&(n[e]=t)}),n},setQueryParameter:function(e,t){var r;return this[e]===t?this:((r={})[e]=t,this.setQueryParameters(r))},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var r=this,i=p._parseNumbers(e),t=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),e=Object.keys(i).reduce(function(e,t){var r=void 0!==e[t],n=void 0!==i[t];return r&&!n?u(e,[t]):(n&&(e[t]=i[t]),e)},t);return new this.constructor(e)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return o(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){var t;return this.isHierarchicalFacet(e)&&(t=this.getHierarchicalRefinement(e)[0])?(e=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),t.split(e).map(function(e){return e.trim()})):[]},toString:function(){return JSON.stringify(this,null,2)}},e.exports=p},673:(e,t,r)=>{e.exports=function(d){return function(e,t){function r(e,a,t){var r,s=e;if(0<t){var n=0;for(s=e;n<t;){var i=s&&Array.isArray(s.data)?s.data:[],s=m(i,function(e){return e.isRefined});n++}}return s&&(r=Object.keys(a.data).map(function(e){return[e,a.data[e]]}).filter(function(e){return e=e[0],t=s.path||u,r=f,n=c,o=l,(!(i=u)||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(o||0===e.indexOf(r)));var t,r,n,i,o}),s.data=y(r.map(function(e){var t,r,n,i,o=e[0];return e=e[1],o=o,t=c,r=v(f),n=a.exhaustive,{name:(i=o.split(t))[i.length-1].trim(),path:o,escapedValue:b(o),count:e,isRefined:r===o||0===r.indexOf(o+t),exhaustive:n,data:null}}),o[0],o[1])),e}var o,c,u,l,f,n=d.hierarchicalFacets[t],i=d.hierarchicalFacetsRefinements[n.name]&&d.hierarchicalFacetsRefinements[n.name][0]||"",a=d._getHierarchicalFacetSeparator(n),s=d._getHierarchicalRootPath(n),h=d._getHierarchicalShowParentLevel(n),n=g(d._getHierarchicalFacetSortBy(n)),p=e.every(function(e){return e.exhaustive}),n=(o=n,c=a,l=h,f=i,e);return(n=(u=s)?e.slice(s.split(a).length):n).reduce(r,{name:d.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:p,data:null})}};var e=r(909),m=r(849),g=r(577),y=r(601),b=e.escapeFacetValue,v=e.unescapeFacetValue},691:(e,t,r)=>{var i=r(965),p=r(110),n=r(909),d=r(849),m=r(917),u=r(577),g=r(728),l=r(601),f=n.escapeFacetValue,y=n.unescapeFacetValue,o=r(673);function a(e){var r={};return e.forEach(function(e,t){r[e]=t}),r}function b(e,t,r){t&&t[r]&&(e.stats=t[r])}function h(l,t,e){var s=t[0]||{},f=(this._rawResults=t,this),r=(Object.keys(s).forEach(function(e){f[e]=s[e]}),g({persistHierarchicalRootCount:!1},e)),e=(Object.keys(r).forEach(function(e){f[e]=r[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=l.hierarchicalFacets.map(function(){return[]}),this.facets=[],l.getRefinedDisjunctiveFacets()),c=a(l.facets),u=a(l.disjunctiveFacets),n=1,h=s.facets||{};Object.keys(h).forEach(function(e){var t,r,n,i,o=h[e],a=(i=l.hierarchicalFacets,t=e,d(i,function(e){return-1<(e.attributes||[]).indexOf(t)}));a?(i=a.attributes.indexOf(e),n=m(l.hierarchicalFacets,function(e){return e.name===a.name}),f.hierarchicalFacets[n][i]={attribute:e,data:o,exhaustive:s.exhaustiveFacetsCount}):(n=-1!==l.disjunctiveFacets.indexOf(e),i=-1!==l.facets.indexOf(e),n&&(r=u[e],f.disjunctiveFacets[r]={name:e,data:o,exhaustive:s.exhaustiveFacetsCount},b(f.disjunctiveFacets[r],s.facets_stats,e)),i&&(r=c[e],f.facets[r]={name:e,data:o,exhaustive:s.exhaustiveFacetsCount},b(f.facets[r],s.facets_stats,e)))}),this.hierarchicalFacets=i(this.hierarchicalFacets),e.forEach(function(e){var i=t[n],o=i&&i.facets?i.facets:{},a=l.getHierarchicalFacetByName(e);Object.keys(o).forEach(function(t){var r,e,n=o[t];a?(r=m(l.hierarchicalFacets,function(e){return e.name===a.name}),-1!==(e=m(f.hierarchicalFacets[r],function(e){return e.attribute===t}))&&(f.hierarchicalFacets[r][e].data=g({},f.hierarchicalFacets[r][e].data,n))):(r=u[t],e=s.facets&&s.facets[t]||{},f.disjunctiveFacets[r]={name:t,data:p({},n,e),exhaustive:i.exhaustiveFacetsCount},b(f.disjunctiveFacets[r],i.facets_stats,t),l.disjunctiveFacetsRefinements[t]&&l.disjunctiveFacetsRefinements[t].forEach(function(e){!f.disjunctiveFacets[r].data[e]&&-1<l.disjunctiveFacetsRefinements[t].indexOf(y(e))&&(f.disjunctiveFacets[r].data[e]=0)}))}),n++}),l.getRefinedHierarchicalFacets().forEach(function(e){var s=l.getHierarchicalFacetByName(e),c=l._getHierarchicalFacetSeparator(s),u=l.getHierarchicalRefinement(e);0===u.length||u[0].split(c).length<2||t.slice(n).forEach(function(e){var a=e&&e.facets?e.facets:{};Object.keys(a).forEach(function(t){var e,r,n=a[t],i=m(l.hierarchicalFacets,function(e){return e.name===s.name}),o=m(f.hierarchicalFacets[i],function(e){return e.attribute===t});-1!==o&&(e={},0<u.length&&!f.persistHierarchicalRootCount&&(e[r=u[0].split(c)[0]]=f.hierarchicalFacets[i][o].data[r]),f.hierarchicalFacets[i][o].data=p(e,n,f.hierarchicalFacets[i][o].data))}),n++})}),Object.keys(l.facetsExcludes).forEach(function(t){var e=l.facetsExcludes[t],r=c[t];f.facets[r]={name:t,data:h[t],exhaustive:s.exhaustiveFacetsCount},e.forEach(function(e){f.facets[r]=f.facets[r]||{name:t},f.facets[r].data=f.facets[r].data||{},f.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(o(l)),this.facets=i(this.facets),this.disjunctiveFacets=i(this.disjunctiveFacets),this._state=l}function v(r,n){function e(e){return e.name===n}var i,o,t,a,s,c;return r._state.isConjunctiveFacet(n)?(i=d(r.facets,e))?Object.keys(i.data).map(function(e){var t=f(e);return{name:e,escapedValue:t,count:i.data[e],isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,e)}}):[]:r._state.isDisjunctiveFacet(n)?(o=d(r.disjunctiveFacets,e))?Object.keys(o.data).map(function(e){var t=f(e);return{name:e,escapedValue:t,count:o.data[e],isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]:r._state.isHierarchicalFacet(n)?((t=d(r.hierarchicalFacets,e))&&(c=r._state.getHierarchicalFacetByName(n),a=r._state._getHierarchicalFacetSeparator(c),(c=(s=0===(s=y(r._state.getHierarchicalRefinement(n)[0]||"")).indexOf(c.rootPath)?s.replace(c.rootPath+a,""):s).split(a)).unshift(n),function t(e,r,n){e.isRefined=e.name===(r[n]&&r[n].trim()),e.data&&e.data.forEach(function(e){t(e,r,n+1)})}(t,c,0)),t):void 0}function s(e,t){e=d(e,function(e){return e.name===t});return e&&e.stats}function O(e,t,r,n,i){var i=d(i,function(e){return e.name===r}),o=i&&i.data&&i.data[n]?i.data[n]:0,i=i&&i.exhaustive||!1;return{type:t,attributeName:r,name:n,count:o,exhaustive:i}}h.prototype.getFacetByName=function(t){function e(e){return e.name===t}return d(this.facets,e)||d(this.disjunctiveFacets,e)||d(this.hierarchicalFacets,e)},h.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],h.prototype.getFacetValues=function(e,t){var s,c,r=v(this,e);if(r)return s=p({},t,{sortBy:h.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),c=this,function t(r,e,n,i){var o;return i=i||0,Array.isArray(e)?r(e,n[i]):e.data&&0!==e.data.length?(o=e.data.map(function(e){return t(r,e,n,i+1)}),o=r(o,n[i]),p({data:o},e)):e}(function(e,t){if(s.facetOrdering){t=c.renderingContent&&c.renderingContent.facetOrdering&&c.renderingContent.facetOrdering.values&&c.renderingContent.facetOrdering.values[t];if(t)return r=e,n=[],i=[],o=(t=t).hide||[],a=(t.order||[]).reduce(function(e,t,r){return e[t]=r,e},{}),r.forEach(function(e){var t=e.path||e.name,r=-1<o.indexOf(t);r||void 0===a[t]?r||i.push(e):n[a[t]]=e}),n=n.filter(function(e){return e}),"hidden"===(r=t.sortRemainingBy)?n:n.concat(l(i,(t="alpha"===r?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],t[1]))}var n,i,o,a,r;if(Array.isArray(s.sortBy))return r=u(s.sortBy,h.DEFAULT_SORT),l(e,r[0],r[1]);if("function"==typeof s.sortBy)return t=s.sortBy,e.sort(t);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,Array.isArray(r)?[e]:c._state.getHierarchicalFacetByName(r.name).attributes)},h.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?s(this.facets,e):this._state.isDisjunctiveFacet(e)?s(this.disjunctiveFacets,e):void 0},h.prototype.getRefinements=function(){var a=this._state,s=this,c=[];return Object.keys(a.facetsRefinements).forEach(function(t){a.facetsRefinements[t].forEach(function(e){c.push(O(0,"facet",t,e,s.facets))})}),Object.keys(a.facetsExcludes).forEach(function(t){a.facetsExcludes[t].forEach(function(e){c.push(O(0,"exclude",t,e,s.facets))})}),Object.keys(a.disjunctiveFacetsRefinements).forEach(function(t){a.disjunctiveFacetsRefinements[t].forEach(function(e){c.push(O(0,"disjunctive",t,e,s.disjunctiveFacets))})}),Object.keys(a.hierarchicalFacetsRefinements).forEach(function(o){a.hierarchicalFacetsRefinements[o].forEach(function(e){var t,r,n,i;c.push((t=a,r=o,e=e,n=s.hierarchicalFacets,i=t.getHierarchicalFacetByName(r),t=t._getHierarchicalFacetSeparator(i),i=e.split(t),e=d(n,function(e){return e.name===r}),t=i.reduce(function(e,t){var r=e&&d(e.data,function(e){return e.name===t});return void 0!==r?r:e},e),n=t&&t.count||0,i=t&&t.exhaustive||!1,e=t&&t.path||"",{type:"hierarchical",attributeName:r,name:e,count:n,exhaustive:i}))})}),Object.keys(a.numericRefinements).forEach(function(r){var e=a.numericRefinements[r];Object.keys(e).forEach(function(t){e[t].forEach(function(e){c.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),a.tagRefinements.forEach(function(e){c.push({type:"tag",attributeName:"_tags",name:e})}),c},e.exports=h},571:(e,t,r)=>{var n=r(733),i=r(732),u=r(909).escapeFacetValue,o=r(14),a=r(728),s=r(317),c=r(383),l=r(127),f=r(223),h=r(847),p=r(371),d=r(691),m=r(749),g=r(938);function y(e,t,r,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+g+")"),this.setClient(e);e=r||{};e.index=t,this.state=p.make(e),this.recommendState=new l({params:e.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}function b(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function v(){return this.state.page}o(y,n),y.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},y.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},y.prototype.recommend=function(){return this._recommend(),this},y.prototype.getQuery=function(){var e=this.state;return h._getHitsSearchParams(e)},y.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,e=h._getQueries(r.index,r),n=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(e).then(function(e){return n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),{content:new d(r,e.results),state:r,_originalResponse:e}},function(e){throw n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),e});this.client.search(e).then(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(null,new d(r,e.results),r)}).catch(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(e,null,r)})},y.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var r=r.getModifiedState(t),t=a({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:c(h._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),n="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(n);var i=this.client.initIndex(r.index);if("function"!=typeof i.findAnswers)throw new Error(n);return i.findAnswers(r.query,e.queryLanguages,t)},y.prototype.searchForFacetValues=function(t,e,r,n){var i="function"==typeof this.client.searchForFacetValues,o="function"==typeof this.client.initIndex;if(!i&&!o&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(n||{}),s=a.isDisjunctiveFacet(t),n=h.getSearchForFacetQuery(t,e,r,a);this._currentNbQueries++;var c=this,r=i?this.client.searchForFacetValues([{indexName:a.index,params:n}]):o?this.client.initIndex(a.index).searchForFacetValues(n):(delete n.facetName,this.client.search([{type:"facet",facet:t,indexName:a.index,params:n}]).then(function(e){return e.results[0]}));return this.emit("searchForFacetValues",{state:a,facet:t,query:e}),r.then(function(e){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach(function(e){e.escapedValue=u(e.value),e.isRefined=s?a.isDisjunctiveFacetRefined(t,e.escapedValue):a.isFacetRefined(t,e.escapedValue)}),e},function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e})},y.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},y.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},y.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},y.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},y.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},y.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},y.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},y.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},y.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},y.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},y.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},y.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},y.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},y.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},y.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},y.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},y.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},y.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},y.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},y.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},y.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},y.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},y.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},y.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},y.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},y.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},y.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},y.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},y.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},y.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},y.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},y.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},y.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},y.prototype.setCurrentPage=b,y.prototype.setPage=b,y.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},y.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},y.prototype.setState=function(e){return this._change({state:p.make(e),isPageReset:!1}),this},y.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new p(e),this},y.prototype.hasRefinements=function(e){return!!s(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},y.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},y.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},y.prototype.hasTag=function(e){return this.state.isTagRefined(e)},y.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},y.prototype.getIndex=function(){return this.state.index},y.prototype.getCurrentPage=v,y.prototype.getPage=v,y.prototype.getTags=function(){return this.state.tagRefinements},y.prototype.getRefinements=function(e){var r=[],n=(this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){r.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"disjunctive"})}),this.state.getNumericRefinements(e));return Object.keys(n).forEach(function(e){var t=n[e];r.push({value:t,operator:e,type:"numeric"})}),r},y.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},y.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},y.prototype._search=function(e){var n=this.state,i=[],t=[],r=(e.onlyWithDerivedHelpers||(t=h._getQueries(n.index,n),i.push({state:n,queriesCount:t.length,helper:this}),this.emit("search",{state:n,results:this.lastResults})),this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=t.index?h._getQueries(t.index,t):[];return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r})),t=Array.prototype.concat.apply(t,r),r=this._queryId++;if(this._currentNbQueries++,!t.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,i,r));try{this.client.search(t).then(this._dispatchAlgoliaResponse.bind(this,i,r)).catch(this._dispatchAlgoliaError.bind(this,r))}catch(e){this.emit("error",{error:e})}},y.prototype._recommend=function(){var n=this.state,e=this.recommendState,t=this.getIndex(),i=[{state:e,index:t,helper:this}],o=e.params.map(function(e){return e.$$id}),a=(this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}}),this._recommendCache),e=this.derivedHelpers.map(function(e){var t,r=e.getModifiedState(n).index;return r?(t=e.getModifiedRecommendState(new l),i.push({state:t,index:r,helper:e}),o=Array.prototype.concat.apply(o,t.params.map(function(e){return e.$$id})),e.emit("fetch",{recommend:{state:t,results:e.lastRecommendResults}}),t._buildQueries(r,a)):[]}),t=Array.prototype.concat.apply(this.recommendState._buildQueries(t,a),e);if(0!==t.length)if(0<t.length&&void 0===this.client.getRecommendations)console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");else{e=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(t).then(this._dispatchRecommendResponse.bind(this,e,i,o)).catch(this._dispatchRecommendError.bind(this,e))}catch(n){this.emit("error",{error:n})}}},y.prototype._dispatchAlgoliaResponse=function(e,t,r){var n,i=this;t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty"),n=r.results.slice(),e.forEach(function(e){var t=e.state,r=e.helper,e=n.splice(0,e.queriesCount);t.index?(r.lastResults=new d(t,e,i._searchResultsOptions),r.emit("result",{results:r.lastResults,state:t})):r.emit("result",{results:null,state:t})}))},y.prototype._dispatchRecommendResponse=function(e,t,r,n){var i,o,a;e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"),i=this._recommendCache,o={},r.filter(function(e){return void 0===i[e]}).forEach(function(e,t){o[e]||(o[e]=[]),o[e].push(t)}),Object.keys(o).forEach(function(e){var t=o[e],r=n.results[t[0]];i[e]=1!==t.length?Object.assign({},r,{hits:m(t.map(function(e){return n.results[e].hits}))}):r}),a={},r.forEach(function(e){a[e]=i[e]}),t.forEach(function(e){var t=e.state,r=e.helper;e.index?(r.lastRecommendResults=new f(t,a),r.emit("recommend:result",{recommend:{results:r.lastRecommendResults,state:t}})):r.emit("recommend:result",{results:null,state:t})}))},y.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},y.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},y.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},y.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},y.prototype._change=function(e){var t=e.state,e=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:e}))},y.prototype._recommendChange=function(e){e=e.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},y.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},y.prototype.setClient=function(e){return this.client!==e&&("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+g+")"),this.client=e),this},y.prototype.getClient=function(){return this.client},y.prototype.derive=function(e,t){e=new i(this,e,t);return this.derivedHelpers.push(e),e},y.prototype.detachDerivedHelper=function(e){e=this.derivedHelpers.indexOf(e);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},y.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries},e.exports=y},965:e=>{e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},110:e=>{e.exports=function(){return Array.prototype.slice.call(arguments).reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(e){void 0!==r[e]&&(void 0!==t[e]&&delete t[e],t[e]=r[e])}),t},{})}},909:e=>{e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},849:e=>{e.exports=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}},917:e=>{e.exports=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}},657:e=>{e.exports=function(e){return e.reduce(function(e,t){return e.concat(t)},[])}},577:(e,t,r)=>{var i=r(849);e.exports=function(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),t=i(n,function(e){return e[0]===r[0]});return 1<r.length||!t?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(t[0]),e[1].push(t[1])),e},[[],[]])}},14:e=>{e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},843:e=>{e.exports=function(r,n){return r.filter(function(e,t){return-1<n.indexOf(e)&&r.indexOf(e)===t})}},728:e=>{function a(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){a(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];a(n)&&function e(t,r){var n,i;if(t!==r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&"__proto__"!==o&&"constructor"!==o&&(n=r[o],void 0!==(i=t[o])&&void 0===n||(a(i)&&a(n)?t[o]=e(i,n):t[o]="object"==typeof(i=n)&&null!==i?e(Array.isArray(i)?[]:{},i):i));return t}(e,n)}return e}},317:e=>{e.exports=function(e){return e&&0<Object.keys(e).length}},383:e=>{e.exports=function(e,t){if(null===e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}},601:e=>{e.exports=function(e,r,i){if(!Array.isArray(e))return[];Array.isArray(i)||(i=[]);e=e.map(function(t,e){return{criteria:r.map(function(e){return t[e]}),index:e,value:t}});return e.sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var n=((e,t)=>{if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,o=null===t;if(!o&&t<e||n&&i||!r)return 1;if(!n&&e<t||o&&r||!i)return-1}return 0})(e.criteria[r],t.criteria[r]);if(n)return!(r>=i.length)&&"desc"===i[r]?-n:n}return e.index-t.index}),e.map(function(e){return e.value})}},507:e=>{e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},847:(e,t,r)=>{var s=r(728);function c(r){return Object.keys(r).sort().reduce(function(e,t){return e[t]=r[t],e},{})}var l={_getQueries:function(s,c){var u=[];return u.push({indexName:s,params:l._getHitsSearchParams(c)}),c.getRefinedDisjunctiveFacets().forEach(function(e){u.push({indexName:s,params:l._getDisjunctiveFacetSearchParams(c,e)})}),c.getRefinedHierarchicalFacets().forEach(function(e){var o,a=c.getHierarchicalFacetByName(e),e=c.getHierarchicalRefinement(e),n=c._getHierarchicalFacetSeparator(a);0<e.length&&1<e[0].split(n).length&&(o=e[0].split(n).slice(0,-1).reduce(function(e,t,r){return e.concat({attribute:a.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(n)})},[])).forEach(function(e,t){e=l._getDisjunctiveFacetSearchParams(c,e.attribute,0===t);function n(t){return a.attributes.some(function(e){return e===t.split(":")[0]})}var r=(e.facetFilters||[]).reduce(function(e,t){var r;return Array.isArray(t)&&0<(r=t.filter(function(e){return!n(e)})).length&&e.push(r),"string"!=typeof t||n(t)||e.push(t),e},[]),i=o[t-1];0<t?e.facetFilters=r.concat(i.attribute+":"+i.value):0<r.length?e.facetFilters=r:delete e.facetFilters,u.push({indexName:s,params:e})})}),u},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(l._getHitsHierarchicalFacetsAttributes(e)).sort(),r=l._getFacetFilters(e),n=l._getNumericFilters(e),i=l._getTagFilters(e),o={};return 0<t.length&&(o.facets=-1<t.indexOf("*")?["*"]:t),0<i.length&&(o.tagFilters=i),0<r.length&&(o.facetFilters=r),0<n.length&&(o.numericFilters=n),c(s({},e.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=l._getFacetFilters(e,t,r),i=l._getNumericFilters(e,t),o=l._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1},o=(0<o.length&&(a.tagFilters=o),e.getHierarchicalFacetByName(t));return a.facets=o?l._getDisjunctiveHierarchicalFacetAttribute(e,o,r):t,0<i.length&&(a.numericFilters=i),0<n.length&&(a.facetFilters=n),c(s({},e.getQueryParams(),a))},_getNumericFilters:function(e,i){var o;return e.numericFilters||(o=[],Object.keys(e.numericRefinements).forEach(function(n){var t=e.numericRefinements[n]||{};Object.keys(t).forEach(function(r){var e=t[r]||[];i!==n&&e.forEach(function(e){var t;Array.isArray(e)?(t=e.map(function(e){return n+r+e}),o.push(t)):o.push(n+r+e)})})}),o)},_getTagFilters:function(e){return e.tagFilters||e.tagRefinements.join(",")},_getFacetFilters:function(a,s,c){var u=[],e=a.facetsRefinements||{},r=(Object.keys(e).sort().forEach(function(t){(e[t]||[]).slice().sort().forEach(function(e){u.push(t+":"+e)})}),a.facetsExcludes||{}),n=(Object.keys(r).sort().forEach(function(t){(r[t]||[]).sort().forEach(function(e){u.push(t+":-"+e)})}),a.disjunctiveFacetsRefinements||{}),l=(Object.keys(n).sort().forEach(function(t){var r,e=n[t]||[];t!==s&&e&&0!==e.length&&(r=[],e.slice().sort().forEach(function(e){r.push(t+":"+e)}),u.push(r))}),a.hierarchicalFacetsRefinements||{});return Object.keys(l).sort().forEach(function(e){var t=(l[e]||[])[0];if(void 0!==t){var r,n=a.getHierarchicalFacetByName(e),i=a._getHierarchicalFacetSeparator(n),o=a._getHierarchicalRootPath(n);if(s===e){if(-1===t.indexOf(i)||!o&&!0===c||o&&o.split(i).length===t.split(i).length)return;t=o?(r=o.split(i).length-1,o):(r=t.split(i).length-2,t.slice(0,t.lastIndexOf(i)))}else r=t.split(i).length-1;(e=n.attributes[r])&&u.push([e+":"+t])}}),u},_getHitsHierarchicalFacetsAttributes:function(i){return i.hierarchicalFacets.reduce(function(e,t){var r,n=i.getHierarchicalRefinement(t.name)[0];return n?(r=i._getHierarchicalFacetSeparator(t),n=n.split(r).length,r=t.attributes.slice(0,n+1),e.concat(r)):(e.push(t.attributes[0]),e)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n,i=e._getHierarchicalFacetSeparator(t);return!0===r?(r=0,(n=e._getHierarchicalRootPath(t))&&(r=n.split(i).length),[t.attributes[r]]):(n=(e.getHierarchicalRefinement(t.name)[0]||"").split(i).length-1,t.attributes.slice(0,1+n))},getSearchForFacetQuery:function(e,t,r,n){n=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,t={facetQuery:t,facetName:e};return"number"==typeof r&&(t.maxFacetHits=r),c(s({},l._getHitsSearchParams(n),t))}};e.exports=l},208:e=>{e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},749:(e,t,r)=>{var a=r(849),s=r(657);e.exports=function(n){var t,r,i,o={};return n.forEach(function(e){e.forEach(function(e,t){o[e.objectID]?o[e.objectID]={indexSum:o[e.objectID].indexSum+t,count:o[e.objectID].count+1}:o[e.objectID]={indexSum:t,count:1}})}),t=o,r=n.length,i=[],Object.keys(t).forEach(function(e){t[e].count<2&&(t[e].indexSum+=100),i.push({objectID:e,avgOfIndices:t[e].indexSum/r})}),i.sort(function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1}).reduce(function(e,t){var r=a(s(n),function(e){return e.objectID===t.objectID});return r?e.concat(r):e},[])}},938:e=>{e.exports="3.22.3"},643:function(e){function t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function u(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}})(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function a(e){return(e=>{if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(e=>{if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function i(i){function o(){return JSON.parse(s().getItem(n)||"{}")}function a(e){s().setItem(n,JSON.stringify(e))}var e,n="algoliasearch-client-js-".concat(i.key),s=function(){return e=void 0===e?i.localStorage||window.localStorage:e};return{get:function(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){r=i.timeToLive?1e3*i.timeToLive:null,e=o(),e=Object.fromEntries(Object.entries(e).filter(function(e){return void 0!==u(e,2)[1].timestamp})),a(e),r&&(e=Object.fromEntries(Object.entries(e).filter(function(e){var e=u(e,2)[1],t=(new Date).getTime();return!(e.timestamp+r<t)})),a(e));var r,e=JSON.stringify(t);return o()[e]}).then(function(e){return Promise.all([e?e.value:r(),void 0!==e])}).then(function(e){var e=u(e,2),t=e[0];return Promise.all([t,e[1]||n.miss(t)])}).then(function(e){return u(e,1)[0]})},set:function(t,r){return Promise.resolve().then(function(){var e=o();return e[JSON.stringify(t)]={timestamp:(new Date).getTime(),value:r},s().setItem(n,JSON.stringify(e)),r})},delete:function(t){return Promise.resolve().then(function(){var e=o();delete e[JSON.stringify(t)],s().setItem(n,JSON.stringify(e))})},clear:function(){return Promise.resolve().then(function(){s().removeItem(n)})}}}function o(e){var o=0<arguments.length&&void 0!==e?e:{serializable:!0},a={};return{get:function(e,t){var r,n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},e=JSON.stringify(e);return e in a?Promise.resolve(o.serializable?JSON.parse(a[e]):a[e]):(r=t(),n=i&&i.miss||function(){return Promise.resolve()},r.then(function(e){return n(e)}).then(function(){return r}))},set:function(e,t){return a[JSON.stringify(e)]=o.serializable?JSON.stringify(t):t,Promise.resolve(t)},delete:function(e){return delete a[JSON.stringify(e)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function l(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e](t)}),t}function s(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})}function f(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])}),{data:0<Object.entries(n).length?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}function b(e,t){t=1<arguments.length&&void 0!==t?t:E;return y(y({},e),{},{status:t,lastUpdate:Date.now()})}function v(e){return"string"==typeof e?{protocol:"https",url:e,accept:x.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||x.Any}}function h(s,e,c,u){function l(r,n){var i=r.pop();if(void 0===i)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:S(f)};function o(e){return e={request:t,response:e,host:i,triesLeft:r.length},f.push(e),e}var t={data:h,headers:p,method:d,url:((e,t,r)=>(r=O(r),e="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t),r.length&&(e+="?".concat(r)),e))(i,c.path,m),connectTimeout:n(g,s.timeouts.connect),responseTimeout:n(g,u.timeout)},a={onSuccess:function(t){try{return JSON.parse(t.content)}catch(e){throw{name:"DeserializationError",message:e.message,response:t}}},onRetry:function(e){var t=o(e);return e.isTimedOut&&g++,Promise.all([s.logger.info("Retryable failure",w(t)),s.hostsCache.set(i,b(i,e.isTimedOut?F:2))]).then(function(){return l(r,n)})},onFail:function(e){throw o(e),((e,t)=>{var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return{name:"ApiError",message:i,status:n,transporterStackTrace:t}})(e,S(f))}};return s.requester.send(t).then(function(e){return t=a,n=(r=e=e).status,r.isTimedOut||!r.isTimedOut&&!~~r.status||2!=~~(n/100)&&4!=~~(n/100)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e);var t,r,n})}var r,n,t,i,f=[],h=((e,t)=>{if(e.method!==T&&(void 0!==e.data||void 0!==t.data))return e=Array.isArray(e.data)?e.data:y(y({},e.data),t.data),JSON.stringify(e)})(c,u),p=(o=u,r=y(y({},s.headers),o.headers),n={},Object.keys(r).forEach(function(e){var t=r[e];n[e.toLowerCase()]=t}),n),d=c.method,o=c.method!==T?{}:y(y({},c.data),u.data),m=y(y(y({"x-algolia-agent":s.userAgent.value},s.queryParameters),o),u.queryParameters),g=0;return t=s.hostsCache,i=e,Promise.all(i.map(function(e){return t.get(e,function(){return Promise.resolve(b(e))})})).then(function(e){var t=e.filter(function(e){return(e=e).status===E||12e4<Date.now()-e.lastUpdate}),r=e.filter(function(e){return(e=e).status===F&&Date.now()-e.lastUpdate<=12e4}),e=[].concat(a(t),a(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:0<e.length?e.map(v):i}}).then(function(e){return l(a(e.statelessHosts).reverse(),e.getTimeout)})}function O(r){return Object.keys(r).map(function(e){return s("%s=%s",e,(t=r[e],"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(r[e]):r[e]));var t}).join("&")}function S(e){return e.map(w)}function w(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return y(y({},e),{},{request:y(y({},e.request),{},{headers:y(y({},e.request.headers),t)})})}function c(e){var t,r,o,n,i,a=e.appId,s=(n=void 0!==e.authMode?e.authMode:R,i={"x-algolia-api-key":e.apiKey,"x-algolia-application-id":a},{headers:function(){return n===R?i:{}},queryParameters:function(){return n===_?i:{}}}),c=(s=y(y({hosts:[{url:"".concat(a,"-dsn.algolia.net"),accept:x.Read},{url:"".concat(a,".algolia.net"),accept:x.Write}].concat((e=>{for(var t=e.length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e})([{url:"".concat(a,"-1.algolianet.com")},{url:"".concat(a,"-2.algolianet.com")},{url:"".concat(a,"-3.algolianet.com")}]))},e),{},{headers:y(y(y({},s.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:y(y({},s.queryParameters()),e.queryParameters)}),t=s.hostsCache,r=s.hosts,o={hostsCache:t,logger:s.logger,requester:s.requester,requestsCache:s.requestsCache,responsesCache:s.responsesCache,timeouts:s.timeouts,userAgent:s.userAgent,headers:s.headers,queryParameters:s.queryParameters,hosts:r.map(v),read:function(e,t){function r(){return h(o,o.hosts.filter(function(e){return!!(e.accept&x.Read)}),e,i)}var n,i=f(t,o.timeouts.read);return!0!==(void 0!==i.cacheable?i:e).cacheable?r():o.responsesCache.get(n={request:e,mappedRequestOptions:i,transporter:{queryParameters:o.queryParameters,headers:o.headers}},function(){return o.requestsCache.get(n,function(){return o.requestsCache.set(n,r()).then(function(e){return Promise.all([o.requestsCache.delete(n),e])},function(e){return Promise.all([o.requestsCache.delete(n),Promise.reject(e)])}).then(function(e){e=u(e,2);return e[0],e[1]})})},{miss:function(e){return o.responsesCache.set(n,e)}})},write:function(e,t){return h(o,o.hosts.filter(function(e){return!!(e.accept&x.Write)}),e,f(t,o.timeouts.write))}});return l({transporter:c,appId:a,addAlgoliaAgent:function(e,t){c.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(function(){})}},e.methods)}function p(r){return function(e,t){return e.method===T?r.transporter.read(e,t):r.transporter.write(e,t)}}function d(r){return function(e,t){e=e.map(function(e){return y(y({},e),{},{params:O(e.params||{})})});return r.transporter.read({method:k,path:"1/indexes/*/queries",data:{requests:e},cacheable:!0},t)}}function m(o){return function(e,i){return Promise.all(e.map(function(e){var t=e.params,r=t.facetName,n=t.facetQuery,t=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(t,["facetName","facetQuery"]);return I(o)(e.indexName,{methods:{searchForFacetValues:N}}).searchForFacetValues(r,n,y(y({},i),t))}))}}function g(n){return function(e,t,r){return n.transporter.read({method:k,path:s("1/answers/%s/prediction",n.indexName),data:{query:e,queryLanguages:t},cacheable:!0},r)}}function j(r){return function(e,t){return r.transporter.read({method:k,path:s("1/indexes/%s/query",r.indexName),data:{query:e},cacheable:!0},t)}}function P(r){return function(e,t){e=e.map(function(e){return y(y({},e),{},{threshold:e.threshold||0})});return r.transporter.read({method:k,path:"1/indexes/*/recommendations",data:{requests:e},cacheable:!0},t)}}function r(e,t,r){var n,t={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(o){return new Promise(function(r){var n=new XMLHttpRequest;n.open(o.method,o.url,!0),Object.keys(o.headers).forEach(function(e){return n.setRequestHeader(e,o.headers[e])});function e(e,t){return setTimeout(function(){n.abort(),r({status:0,content:t,isTimedOut:!0})},1e3*e)}var t,i=e(o.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===t&&(clearTimeout(i),t=e(o.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(i),clearTimeout(t),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(i),clearTimeout(t),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(o.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:o(),requestsCache:o({serializable:!1}),hostsCache:function n(e){var i=a(e.caches),o=i.shift();return void 0===o?{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return u(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(e,t,r).catch(function(){return n({caches:i}).get(e,t,r)})},set:function(e,t){return o.set(e,t).catch(function(){return n({caches:i}).set(e,t)})},delete:function(e){return o.delete(e).catch(function(){return n({caches:i}).delete(e)})},clear:function(){return o.clear().catch(function(){return n({caches:i}).clear()})}}}({caches:[i({key:"".concat("4.24.0","-").concat(e)}),o()]}),userAgent:(n={value:"Algolia for JavaScript (".concat("4.24.0",")"),add:function(e){e="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===n.value.indexOf(e)&&(n.value="".concat(n.value).concat(e)),n}}).add({segment:"Browser",version:"lite"}),authMode:_};return c(y(y(y({},t),r),{},{methods:{search:d,searchForFacetValues:m,multipleQueries:d,multipleSearchForFacetValues:m,customRequest:p,initIndex:function(t){return function(e){return I(t)(e,{methods:{search:j,searchForFacetValues:N,findAnswers:g}})}},getRecommendations:P}}))}var _,R,x,E,F,T,k,I,N;e.exports=(_=0,x={Read:R=1,Write:2,Any:3},E=1,F=3,T="GET",k="POST",I=function(t){return function(e){return l({transporter:t.transporter,appId:t.appId,indexName:e},(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).methods)}},N=function(n){return function(e,t,r){return n.transporter.read({method:k,path:s("1/indexes/%s/facets/%s/query",n.indexName,e),data:{facetQuery:t},cacheable:!0},r)}},r.version="4.24.0",r)},729:(e,t)=>{function v(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function O(e,t,r){if(t.charAt(r)==e.charAt(0)){for(var n=1,i=e.length;n<i;n++)if(t.charAt(r+n)!=e.charAt(n))return;return 1}}function c(e,t,r,n){for(var i=[],o=null,a=null,s=r[r.length-1];0<e.length;){if(a=e.shift(),s&&"<"==s.tag&&!(a.tag in m))throw new Error("Illegal content in < super tag.");if(S.tags[a.tag]<=S.tags.$||((e,t)=>{for(var r=0,n=t.length;r<n;r++)if(t[r].o==e.n)return e.tag="#"})(a,n))r.push(a),a.nodes=c(e,a.tag,r,n);else{if("/"==a.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+a.n);if(o=r.pop(),a.n==o.n||((e,t,r)=>{for(var n=0,i=r.length;n<i;n++)if(r[n].c==e&&r[n].o==t)return 1})(a.n,o.n,n))return o.end=a.i,i;throw new Error("Nesting error: "+o.n+" vs. "+a.n)}"\n"==a.tag&&(a.last=0==e.length||"\n"==e[0].tag)}i.push(a)}if(0<r.length)throw new Error("missing closing tag: "+r.pop().n);return i}function n(e){var t,r=[];for(t in e.partials)r.push('"'+i(t)+'":{name:"'+i(e.partials[t].name)+'", '+n(e.partials[t])+"}");return"partials: {"+r.join(",")+"}, subs: "+(e=>{var t,r=[];for(t in e)r.push('"'+i(t)+'": function(c,p,t,i) {'+e[t]+"}");return"{ "+r.join(",")+" }"})(e.subs)}function i(e){return e.replace(h,"\\\\").replace(u,'\\"').replace(l,"\\n").replace(f,"\\r").replace(p,"\\u2028").replace(d,"\\u2029")}function r(e){return~e.indexOf(".")?"d":"f"}function o(e,t){var r="<"+(t.prefix||"")+e.n+g++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+i(r)+'",c,p,"'+(e.indent||"")+'"));',r}function a(e,t){t.code+="t.b(t.t(t."+r(e.n)+'("'+i(e.n)+'",c,p,0)));'}function s(e){return"t.b("+e+");"}var S,w,u,l,f,h,p,d,m,g;w=/\S/,u=/\"/g,l=/\n/g,f=/\r/g,h=/\\/g,p=/\u2028/,d=/\u2029/,(S=t).tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},S.scan=function(e,t){var r,n,i,o,a,s=e.length,c=0,u=null,l="",f=[],h=!1,p=0,d=0,m="{{",g="}}";function y(){0<l.length&&(f.push({tag:"_t",text:new String(l)}),l="")}function b(e,t){if(y(),e&&(()=>{for(var e=!0,t=d;t<f.length;t++)if(!(e=S.tags[f[t].tag]<S.tags._v||"_t"==f[t].tag&&null===f[t].text.match(w)))return;return e})())for(var r,n=d;n<f.length;n++)f[n].text&&((r=f[n+1])&&">"==r.tag&&(r.indent=f[n].text.toString()),f.splice(n,1));else t||f.push({tag:"\n"});h=!1,d=f.length}for(t&&(t=t.split(" "),m=t[0],g=t[1]),p=0;p<s;p++)0==c?O(m,e,p)?(--p,y(),c=1):"\n"==e.charAt(p)?b(h):l+=e.charAt(p):1==c?(p+=m.length-1,c="="==(u=(r=S.tags[e.charAt(p+1)])?e.charAt(p+1):"_v")?(i=p,a=o=void 0,o="="+g,a=(n=e).indexOf(o,i),n=v(n.substring(n.indexOf("=",i)+1,a)).split(" "),m=n[0],g=n[n.length-1],p=a+o.length-1,0):(r&&p++,2),h=p):O(g,e,p)?(f.push({tag:u,n:v(l),otag:m,ctag:g,i:"/"==u?h-m.length:p+g.length}),l="",p+=g.length-1,c=0,"{"==u&&("}}"==g?p++:"}"===(i=f[f.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):l+=e.charAt(p);return b(h,!0),f},m={_t:!0,"\n":!0,$:!0,"/":!0},S.stringify=function(e,t,r){return"{code: function (c,p,i) { "+S.wrapMain(e.code)+" },"+n(e)+"}"},g=0,S.generate=function(e,t,r){g=0;var n={code:"",subs:{},partials:{}};return S.walk(e,n),r.asString?this.stringify(n,t,r):this.makeTemplate(n,t,r)},S.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},S.template=S.Template,S.makeTemplate=function(e,t,r){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,r)},S.makePartials=function(e){var t,r={subs:{},partials:e.partials,name:e.name};for(t in r.partials)r.partials[t]=this.makePartials(r.partials[t]);for(t in e.subs)r.subs[t]=new Function("c","p","t","i",e.subs[t]);return r},S.codegen={"#":function(e,t){t.code+="if(t.s(t."+r(e.n)+'("'+i(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',S.walk(e.nodes,t),t.code+="});c.pop();}"},"^":function(e,t){t.code+="if(!t.s(t."+r(e.n)+'("'+i(e.n)+'",c,p,1),c,p,1,0,0,"")){',S.walk(e.nodes,t),t.code+="};"},">":o,"<":function(e,t){var r={partials:{},code:"",subs:{},inPartial:!0},e=(S.walk(e.nodes,r),t.partials[o(e,t)]);e.subs=r.subs,e.partials=r.partials},$:function(e,t){var r={subs:{},code:"",partials:t.partials,prefix:e.n};S.walk(e.nodes,r),t.subs[e.n]=r.code,t.inPartial||(t.code+='t.sub("'+i(e.n)+'",c,p,i);')},"\n":function(e,t){t.code+=s('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+r(e.n)+'("'+i(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=s('"'+i(e.text)+'"')},"{":a,"&":a},S.walk=function(e,t){for(var r,n=0,i=e.length;n<i;n++)(r=S.codegen[e[n].tag])&&r(e[n],t);return t},S.parse=function(e,t,r){return c(e,0,[],(r=r||{}).sectionTags||[])},S.cache={},S.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},S.compile=function(e,t){var r=S.cacheKey(e,t=t||{}),n=this.cache[r];if(n){var i,o=n.partials;for(i in o)delete o[i].instance;return n}return n=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[r]=n}},714:(e,t,r)=>{var n=r(729);n.Template=r(549).Template,n.template=n.Template,e.exports=n},549:(e,t)=>{function l(e,t,r){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:r&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}function a(e){return String(null==e?"":e)}var r,n,i,o,s,c,f;(t=t).Template=function(e,t,r,n){this.r=(e=e||{}).code||this.r,this.c=r,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},t.Template.prototype={r:function(e,t,r){return""},v:function(e){return e=a(e),c.test(e)?e.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(s,"&quot;"):e},t:a,render:function(e,t,r){return this.ri([e],t||{},r)},ri:function(e,t,r){return this.r(e,t,r)},ep:function(e,t){var r=this.partials[e],n=t[r.name];if(r.instance&&r.base==n)return r.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,r.subs){for(key in t.stackText||(t.stackText={}),r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=((e,t,r,n,i,o)=>{function a(){}function s(){}s.prototype=(a.prototype=e).subs;var c,u=new a;for(c in u.subs=new s,u.subsText={},u.buf="",u.stackSubs=n=n||{},u.subsText=o,t)n[c]||(n[c]=t[c]);for(c in n)u.subs[c]=n[c];for(c in u.stackPartials=i=i||{},r)i[c]||(i[c]=r[c]);for(c in i)u.partials[c]=i[c];return u})(n,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n},rp:function(e,t,r,n){e=this.ep(e,r);return e?e.ri(t,r,n):""},rs:function(e,t,r){var n=e[e.length-1];if(f(n))for(var i=0;i<n.length;i++)e.push(n[i]),r(e,t,this),e.pop();else r(e,t,this)},s:function(e,t,r,n,i,o,a){return(!f(e)||0!==e.length)&&(r=!!(e="function"==typeof e?this.ms(e,t,r,n,i,o,a):e),!n&&r&&t&&t.push("object"==typeof e?e:t[t.length-1]),r)},d:function(e,t,r,n){var i,o=e.split("."),a=this.f(o[0],t,r,n),s=this.options.modelGet,c=null;if("."===e&&f(t[t.length-2]))a=t[t.length-1];else for(var u=1;u<o.length;u++)a=void 0!==(i=l(o[u],a,s))?(c=a,i):"";return!(n&&!a)&&(n||"function"!=typeof a||(t.push(c),a=this.mv(a,t,r),t.pop()),a)},f:function(e,t,r,n){for(var i=!1,o=!1,a=this.options.modelGet,s=t.length-1;0<=s;s--)if(void 0!==(i=l(e,t[s],a))){o=!0;break}return o?i=n||"function"!=typeof i?i:this.mv(i,t,r):!n&&""},ls:function(e,t,r,n,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(a(e.call(t,n)),t,r)),this.options.delimiters=o,!1},ct:function(e,t,r){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,r)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,r,n,i,o,a){t=t[t.length-1],e=e.call(t);return"function"==typeof e?!!n||(n=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,t,r,n.substring(i,o),a)):e},mv:function(e,t,r){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(a(e.call(t)),t,r):e},sub:function(e,t,r,n){var i=this.subs[e];i&&(this.activeSub=e,i(t,r,this,n),this.activeSub=!1)}},r=/&/g,n=/</g,i=/>/g,o=/\'/g,s=/\"/g,c=/[&<>\"\']/,f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},765:e=>{var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},373:(e,t,r)=>{var n=r(636),i=r(642),r=r(765);e.exports={formats:r,parse:i,stringify:n}},642:(e,t,r)=>{function y(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}var f=r(720),b=Object.prototype.hasOwnProperty,h=Array.isArray,p={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:f.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=(e=>{if(!e)return p;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?p:e).charset;return{allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:p).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:p).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:p).charsetSentinel,comma:("boolean"==typeof e.comma?e:p).comma,decoder:("function"==typeof e.decoder?e:p).decoder,delimiter:("string"==typeof e.delimiter||f.isRegExp(e.delimiter)?e:p).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:p.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:p).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:p).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:p).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:p).strictNullHandling}})(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?((e,t)=>{var r,n,i,o,a={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,c=e.split(t.delimiter,s),u=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<c.length;++r)0===c[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[r]?l="utf-8":"utf8=%26%2310003%3B"===c[r]&&(l="iso-8859-1"),u=r,r=c.length);for(r=0;r<c.length;++r)r!==u&&((o=-1===(o=-1===(o=(i=c[r]).indexOf("]="))?i.indexOf("="):o+1)?(n=t.decoder(i,p.decoder,l,"key"),t.strictNullHandling?null:""):(n=t.decoder(i.slice(0,o),p.decoder,l,"key"),f.maybeMap(y(i.slice(o+1),t),function(e){return t.decoder(e,p.decoder,l,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===l&&(o=o.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<i.indexOf("[]=")&&(o=h(o)?[o]:o),b.call(a,n)?a[n]=f.combine(a[n],o):a[n]=o);return a})(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a)var s=o[a],s=((e,t,r,n)=>{if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=0<r.depth&&/(\[[^[\]]*])/.exec(i),e=a?i.slice(0,a.index):i,s=[];if(e){if(!r.plainObjects&&b.call(Object.prototype,e)&&!r.allowPrototypes)return;s.push(e)}for(var c=0;0<r.depth&&null!==(a=o.exec(i))&&c<r.depth;){if(c+=1,!r.plainObjects&&b.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}a&&s.push("["+i.slice(a.index)+"]");for(var u=s,l=r,f=n?t:y(t,l),h=u.length-1;0<=h;--h){var p,d,m,g=u[h];"[]"===g&&l.parseArrays?p=[].concat(f):(p=l.plainObjects?Object.create(null):{},d="["===g.charAt(0)&&"]"===g.charAt(g.length-1)?g.slice(1,-1):g,m=parseInt(d,10),l.parseArrays||""!==d?!isNaN(m)&&g!==d&&String(m)===d&&0<=m&&l.parseArrays&&m<=l.arrayLimit?(p=[])[m]=f:"__proto__"!==d&&(p[d]=f):p={0:f}),f=p}return f}})(s,n[s],r,"string"==typeof e),i=f.merge(i,s,r);return f.compact(i)}},636:(e,t,r)=>{function j(e,t){n.apply(e,R(t)?t:[t])}function P(e,t,r,n,i,o,a,s,c,u,l,f,h,p){var d=e;if("function"==typeof a?d=a(t,d):d instanceof Date?d=u(d):"comma"===r&&R(d)&&(d=_.maybeMap(d,function(e){return e instanceof Date?u(e):e})),null===d){if(n)return o&&!h?o(t,E.encoder,p,"key",l):t;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||"symbol"==typeof d||"bigint"==typeof d||_.isBuffer(d)){if(o){e=h?t:o(t,E.encoder,p,"key",l);if("comma"===r&&h){for(var m=x.call(String(d),","),g="",y=0;y<m.length;++y)g+=(0===y?"":",")+f(o(m[y],E.encoder,p,"value",l));return[f(e)+"="+g]}return[f(e)+"="+f(o(d,E.encoder,p,"value",l))]}return[f(t)+"="+f(String(d))]}var b,v=[];if(void 0!==d){b="comma"===r&&R(d)?[{value:0<d.length?d.join(",")||null:void 0}]:R(a)?a:(e=Object.keys(d),s?e.sort(s):e);for(var O=0;O<b.length;++O){var S=b[O],w="object"==typeof S&&void 0!==S.value?S.value:d[S];i&&null===w||(S=R(d)?"function"==typeof r?r(t,S):t:t+(c?"."+S:"["+S+"]"),j(v,P(w,S,r,n,i,o,a,s,c,u,l,f,h,p)))}}return v}var _=r(720),u=r(765),l=Object.prototype.hasOwnProperty,f={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},R=Array.isArray,x=String.prototype.split,n=Array.prototype.push,i=Date.prototype.toISOString,r=u.default,E={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:_.encode,encodeValuesOnly:!1,format:r,formatter:u.formatters[r],indices:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var r=e,n=(e=>{if(!e)return E;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||E.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=u.default;if(void 0!==e.format){if(!l.call(u.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=u.formatters[r],i=E.filter;return"function"!=typeof e.filter&&!R(e.filter)||(i=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:E).addQueryPrefix,allowDots:void 0===e.allowDots?E.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:E).charsetSentinel,delimiter:(void 0===e.delimiter?E:e).delimiter,encode:("boolean"==typeof e.encode?e:E).encode,encoder:("function"==typeof e.encoder?e:E).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:E).encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:E).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:E).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:E).strictNullHandling}})(t);"function"==typeof n.filter?r=(0,n.filter)("",r):R(n.filter)&&(a=n.filter);var i=[];if("object"!=typeof r||null===r)return"";var e=t&&t.arrayFormat in f?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",o=f[e],a=a||Object.keys(r);n.sort&&a.sort(n.sort);for(var s=0;s<a.length;++s){var c=a[s];n.skipNulls&&null===r[c]||j(i,P(r[c],c,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},720:(e,t,r)=>{function s(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}var u=r(765),c=Object.prototype.hasOwnProperty,m=Array.isArray,l=(()=>{for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();e.exports={arrayToObject:s,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:c}),r.push(u))}for(var l=t;1<l.length;){var f=l.pop(),h=f.obj[f.prop];if(m(h)){for(var p=[],d=0;d<h.length;++d)void 0!==h[d]&&p.push(h[d]);f.obj[f.prop]=p}}return e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",s=0;s<o.length;++s){var c=o.charCodeAt(s);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||i===u.RFC1738&&(40===c||41===c)?a+=o.charAt(s):c<128?a+=l[c]:c<2048?a+=l[192|c>>6]+l[128|63&c]:c<55296||57344<=c?a+=l[224|c>>12]+l[128|c>>6&63]+l[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(s)),a+=l[240|c>>18]+l[128|c>>12&63]+l[128|c>>6&63]+l[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(m(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,o,a){if(!o)return i;if("object"!=typeof o){if(m(i))i.push(o);else{if(!i||"object"!=typeof i)return[i,o];(a&&(a.plainObjects||a.allowPrototypes)||!c.call(Object.prototype,o))&&(i[o]=!0)}return i}var e;return i&&"object"==typeof i?(m(e=i)&&!m(o)&&(e=s(i,a)),m(i)&&m(o)?(o.forEach(function(e,t){var r;c.call(i,t)?(r=i[t])&&"object"==typeof r&&e&&"object"==typeof e?i[t]=n(r,e,a):i.push(e):i[t]=e}),i):Object.keys(o).reduce(function(e,t){var r=o[t];return c.call(e,t)?e[t]=n(e[t],r,a):e[t]=r,e},e)):[i].concat(o)}}}},n={};function s(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},r[e].call(t.exports,t,t.exports,s)),t.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);{function c(r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,e=e.modifierName,t=t?"-".concat(t):"",e=e?"--".concat(e):"";return"".concat("ais","-").concat(r).concat(t).concat(e)}}var u=s(643),z=s.n(u);function l(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},G=/[&<>"']/g,X=RegExp(G.source),Z={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ee=/&(amp|quot|lt|gt|#39);/g,te=RegExp(ee.source);function re(e){return e&&te.test(e)?e.replace(ee,function(e){return Z[e]}):e}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){if("object"===ne(t=e)&&null!==t&&"[object Object]"===(null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e))){var t;if(null===Object.getPrototypeOf(e))return 1;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}}function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function se(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?se(Object(r),!0).forEach(function(e){ue(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ue(e,t,r){return n=(e=>{if("object"!==oe(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==oe(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===oe(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}var le={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},f={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function fe(r){return ie(r)&&"string"!=typeof r.value?Object.keys(r).reduce(function(e,t){return ce(ce({},e),{},ue({},t,fe(r[t])))},{}):Array.isArray(r)?r.map(fe):ce(ce({},r),{},{value:(e=r.value,((e=e)&&X.test(e)?e.replace(G,function(e){return Y[e]}):e).replace(new RegExp(le.highlightPreTag,"g"),f.highlightPreTag).replace(new RegExp(le.highlightPostTag,"g"),f.highlightPostTag))});var e}var he=c("Highlight");function pe(e){var t=e.attribute,r=e.highlightedTagName,r=void 0===r?"mark":r,n=e.cssClasses,n=void 0===n?{}:n,e=(l(e.hit._highlightResult,t)||{}).value,t=void 0===e?"":e,e=he({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):"");return t.replace(new RegExp(f.highlightPreTag,"g"),"<".concat(r,' class="').concat(e,'">')).replace(new RegExp(f.highlightPostTag,"g"),"</".concat(r,">"))}function de(e){var t=f.highlightPreTag,r=f.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+r:e.value}).join("")}var me=new RegExp(/\w/i);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function be(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==ge(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ge(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===ge(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ve(i){return i.some(function(e){return e.isHighlighted})?i.map(function(e,t){return be(be({},e),{},{isHighlighted:(r=(e=i)[t=t],n=(null==(n=i[t+1])?void 0:n.isHighlighted)||!0,t=(null==(e=i[t-1])?void 0:e.isHighlighted)||!0,!(me.test(re(r.value))||t!==n?r.isHighlighted:t))});var r,n}):i.map(function(e){return be(be({},e),{},{isHighlighted:!1})})}function h(e){var t=f.highlightPostTag,r=f.highlightPreTag,e=e.split(r),r=e.shift(),n=r?[{value:r,isHighlighted:!1}]:[];return e.forEach(function(e){e=e.split(t);n.push({value:e[0],isHighlighted:!0}),""!==e[1]&&n.push({value:e[1],isHighlighted:!1})}),n}var Oe=c("ReverseHighlight");function Se(e){var t=e.attribute,r=e.highlightedTagName,r=void 0===r?"mark":r,n=e.cssClasses,n=void 0===n?{}:n,e=(l(e.hit._highlightResult,t)||{}).value,t=void 0===e?"":e,e=Oe({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):"");return de(ve(h(t))).replace(new RegExp(f.highlightPreTag,"g"),"<".concat(r,' class="').concat(e,'">')).replace(new RegExp(f.highlightPostTag,"g"),"</".concat(r,">"))}var we=c("Snippet");function je(e){var t=e.attribute,r=e.highlightedTagName,r=void 0===r?"mark":r,n=e.cssClasses,n=void 0===n?{}:n,e=(l(e.hit._snippetResult,t)||{}).value,t=void 0===e?"":e,e=we({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):"");return t.replace(new RegExp(f.highlightPreTag,"g"),"<".concat(r,' class="').concat(e,'">')).replace(new RegExp(f.highlightPostTag,"g"),"</".concat(r,">"))}var Pe=c("ReverseSnippet");function _e(e){var t=e.attribute,r=e.highlightedTagName,r=void 0===r?"mark":r,n=e.cssClasses,n=void 0===n?{}:n,e=(l(e.hit._snippetResult,t)||{}).value,t=void 0===e?"":e,e=Pe({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):"");return de(ve(h(t))).replace(new RegExp(f.highlightPreTag,"g"),"<".concat(r,' class="').concat(e,'">')).replace(new RegExp(f.highlightPostTag,"g"),"</".concat(r,">"))}function Re(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function xe(e){return JSON.parse(decodeURIComponent(atob(e)))}function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var r,n={method:e,payload:t},e=n.method,t=n.payload;if("object"!==Ee(t))throw new Error("The insights helper expects the payload to be an object.");try{r=Re(t)}catch(n){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(r,'"')}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ke="_ALGOLIA";function Ie(){var e=ke;if("object"===("undefined"==typeof document?"undefined":Te(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}function O(e,t){t=(1<arguments.length&&void 0!==t?t:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function Ne(e){return e!==Object(e)}function Ce(e,t){if(e===t)return 1;if(Ne(e)||Ne(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length===Object.keys(t).length){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return;if(!Ce(e[i],t[i]))return}return 1}}var Ae=["page"];function De(e){var e=e||{},t=(e.page,e),r=Ae;if(null==t)return{};var n,i=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=r.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}var He="ais.infiniteHits",Le=s(733),y=s(103);function P(){}function $e(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function S(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Ue(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ue(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Ue(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function qe(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}})(e,t)||We(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function We(e,t){var r;if(e)return"string"==typeof e?Me(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be="2.15.0",Ve="https://cdn.jsdelivr.net/npm/search-insights@".concat(Be,"/dist/search-insights.min.js");function Je(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.insightsClient,m=e.insightsInitParams,g=e.onEvent,r=e.$$internal,y=void 0!==r&&r,r=e.$$automatic,b=void 0!==r&&r,o=t,v=(t||null===t||O(function(e){var n=e.window,i=n.AlgoliaAnalyticsObject||"aa";(o="string"==typeof i?n[i]:o)||(n.AlgoliaAnalyticsObject=i,n[i]||(n[i]=function(){n[i].queue||(n[i].queue=[]);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n[i].queue.push(t)},n[i].version=Be,n[i].shouldAddScript=!0),o=n[i])}),o||P);return function(e){var t,o=e.instantSearchInstance,e=o.middleware.filter(function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal}).map(function(e){return e.creator});o.unuse.apply(o,(e=>{if(Array.isArray(e))return Me(e)})(t=e)||(()=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})()||We(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})());var a,s,r,n,i=qe((e=o.client).transporter?(i=(r=e.transporter).headers||r.baseHeaders,r=r.queryParameters||r.baseQueryParameters,[i[n="x-algolia-application-id"]||r[n],i[n="x-algolia-api-key"]||r[n]]):[e.applicationID,e.apiKey],2),c=i[0],u=i[1],l=void 0,f=void 0,h=void 0,p=void 0,d=v.queue;return Array.isArray(d)&&(r=["setUserToken","setAuthenticatedUserToken"].map(function(t){var e=$e(d.slice().reverse(),function(e){return qe(e,1)[0]===t})||[];return qe(e,2)[1]}),n=qe(r,2),l=n[0],f=n[1]),v("getUserToken",null,function(e,t){h=ze(t)}),v("getAuthenticatedUserToken",null,function(e,t){p=ze(t)}),!m&&Ke(v)||v("init",S({appId:c,apiKey:u,partial:!0},m)),{$$type:"ais.insights",$$internal:y,$$automatic:b,onStateChange:function(){},subscribe:function(){if(v.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var t=document.createElement("script");t.async=!0,t.src=Ve,t.onerror=function(){o.emit("error",new Error(e))},document.body.appendChild(t),v.shouldAddScript=!1}catch(t){v.shouldAddScript=!1,o.emit("error",new Error(e))}}},started:function(){v("addAlgoliaAgent","insights-middleware"),s=o.mainHelper,a={userToken:s.state.userToken,clickAnalytics:s.state.clickAnalytics},b||s.overrideStateWithoutTriggeringChangeEvent(S(S({},s.state),{},{clickAnalytics:!0})),y||o.scheduleSearch();var n=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=ze(e);function i(){s.overrideStateWithoutTriggeringChangeEvent(S(S({},s.state),{},{userToken:n})),t&&t!==e&&o.scheduleSearch()}n&&(t=s.state.userToken,r?i():setTimeout(i,0))},e=Ie();function t(e,t,r){n(e,!0),t&&v("setUserToken",t),r&&v("setAuthenticatedUserToken",r)}e&&n(e,!0);var e=p||h,r=f||l,i=(e?t(e,h,p):r&&t(r,l,f),v("onUserTokenChange",n,{immediate:!0}),v("onAuthenticatedUserTokenChange",function(e){e||v("getUserToken",null,function(e,t){n(t)}),n(e)},{immediate:!0}),v);Ke(v)&&(i=function(e,t){return v(e,t,{headers:{"X-Algolia-Application-Id":c,"X-Algolia-API-Key":u}})}),o.sendEventToInsights=function(e){g?g(e,i):e.insightsMethod&&(e.payload.algoliaSource=["instantsearch"],b&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),i(e.insightsMethod,e.payload))}},unsubscribe:function(){v("onUserTokenChange",void 0),v("onAuthenticatedUserTokenChange",void 0),o.sendEventToInsights=P,s&&a&&(s.overrideStateWithoutTriggeringChangeEvent(S(S({},s.state),a)),o.scheduleSearch())}}}}function Ke(e){var e=qe((e.version||"").split(".").map(Number),2),t=e[0],e=e[1];return 3<=t||2===t&&6<=e||1===t&&10<=e}function ze(e){if(e)return"number"==typeof e?e.toString():e}function Ye(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Ge(e,t,r){var r=t.getResultsForWidget(r),n=t.getHelper();return{helper:n,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Xe(e){var e=(0<arguments.length&&void 0!==e?e:{}).$$internal,o=void 0!==e&&e;return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:o,onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function n(e,i,o){var a=Ye(i,i.mainIndex,i._initialUiState);e.forEach(function(e){var t={},r=(e.getWidgetRenderState&&(r=e.getWidgetRenderState(a))&&r.widgetParams&&(t=r.widgetParams),Object.keys(t).filter(function(e){return void 0!==t[e]}));o.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:r}),"ais.index"===e.$$type&&n(e.getWidgets(),i,o)})}(t.mainIndex.getWidgets(),t,r),t.middleware.forEach(function(e){return r.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})}),n.content=JSON.stringify(r),i.appendChild(n)},0)},started:function(){},unsubscribe:function(){n.remove()}}}}var Ze=s(373);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){(t=tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function tt(e){e=(e=>{if("object"!==et(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==et(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return"symbol"===et(e)?e:String(e)}function rt(e){e&&(window.document.title=e)}var nt=(()=>{function l(e){var r=this,t=e.windowTitle,n=e.writeDelay,n=void 0===n?400:n,i=e.createURL,o=e.parseURL,a=e.getLocation,s=e.start,c=e.dispose,u=e.push,e=e.cleanUrlOnDispose;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");p(this,"$$type","ais.browser"),p(this,"windowTitle",void 0),p(this,"writeDelay",void 0),p(this,"_createURL",void 0),p(this,"parseURL",void 0),p(this,"getLocation",void 0),p(this,"writeTimer",void 0),p(this,"_onPopState",void 0),p(this,"inPopState",!1),p(this,"isDisposed",!1),p(this,"latestAcknowledgedHistory",0),p(this,"_start",void 0),p(this,"_dispose",void 0),p(this,"_push",void 0),p(this,"_cleanUrlOnDispose",void 0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=n,this._createURL=i,this.parseURL=o,this.getLocation=a,this._start=s,this._dispose=c,this._push=u,this._cleanUrlOnDispose=void 0===e||e,O(function(e){var e=e.window,t=r.windowTitle&&r.windowTitle(r.read());rt(t),r.latestAcknowledgedHistory=e.history.length})}for(var e=l,t=[{key:"read",value:function(){return this.parseURL({qsModule:Ze,location:this.getLocation()})}},{key:"write",value:function(i){var o=this;O(function(e){var t=e.window,r=o.createURL(i),n=o.windowTitle&&o.windowTitle(i);o.writeTimer&&clearTimeout(o.writeTimer),o.writeTimer=setTimeout(function(){rt(n),o.shouldWrite(r)&&(o._push?o._push(r):t.history.pushState(i,n||"",r),o.latestAcknowledgedHistory=t.history.length),o.inPopState=!1,o.writeTimer=void 0},o.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start(function(){e(t.read())}),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},O(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:Ze,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this._dispose&&this._dispose(),this.isDisposed=!0,O(function(e){e=e.window;t._onPopState&&e.removeEventListener("popstate",t._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return O(function(e){var e=e.window,t=!(n.isDisposed&&n.latestAcknowledgedHistory!==e.history.length);return!n.inPopState&&t&&r!==e.location.href})}}],r=e.prototype,n=t,i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,tt(o.key),o)}return Object.defineProperty(e,"prototype",{writable:!1}),l})();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ot=["configure"];function at(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function st(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach(function(e){ct(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ct(e,t,r){return n=(e=>{if("object"!==it(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==it(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===it(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function ut(e){e.configure;var t=e,r=ot;if(null==t)return{};var n,i=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=r.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach(function(e){pt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function pt(e,t,r){return n=(e=>{if("object"!==lt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==lt(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===lt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==(e=e.connector)&&e?"#connector":""].join("")}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function b(e){return"ais.index"===e.$$type}function dt(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gt=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function yt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==mt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==mt(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===mt(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):yt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var bt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){r=t;var e=e.setQueryParameters({hierarchicalFacetsRefinements:_(_({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)}),e=(r=e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,r){var t=(e=>{if(Array.isArray(e))for(var t=0;t<e.length;t++)if(e[t].name===r.name)return t;return-1})(e);return-1===t?e.concat(r):((e=e.slice()).splice(t,1,r),e)},e.hierarchicalFacets)}),t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},r)),e=(r=t,e.setQueryParameters({numericRefinements:_(_({},e.numericRefinements),r.numericRefinements)})),e=(r=t,e.setQueryParameters({disjunctiveFacetsRefinements:_(_({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})),e=(r=t,e.setQueryParameters({facetsExcludes:_(_({},e.facetsExcludes),r.facetsExcludes)})),e=(r=t,e.setQueryParameters({facetsRefinements:_(_({},e.facetsRefinements),r.facetsRefinements)})),r=((e,t)=>0<(t=dt([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean))).length?e.setQueryParameters({ruleContexts:t}):e)(t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e),t),e=t.facets.reduce(function(e,t){return e.addFacet(t)},r),r=t;return r.facets,r=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(r,gt),e.setQueryParameters(r)})},vt=0;function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var St=["initialSearchParameters"],wt=["initialRecommendParameters"];function jt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(r),!0).forEach(function(e){Pt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Pt(e,t,r){return n=(e=>{if("object"!==Ot(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ot(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===Ot(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function _t(e){return(e=>{if(Array.isArray(e))return Rt(e)})(e)||(()=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})()||(e=>{var t;if(e)return"string"==typeof e?Rt(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Rt(e,void 0):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xt(e,t){if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var Et=d({name:"index-widget"});function Ft(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,t=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:t})),n!==e.recommendState&&(e.recommendState=n)}function Tt(e,r,t){return e.reduce(function(e,t){return!b(t)&&(t.getWidgetUiState||t.getWidgetState)?t.getWidgetUiState?t.getWidgetUiState(e,r):t.getWidgetState(e,r):e},2<arguments.length&&void 0!==t?t:{})}function kt(e,t){var r=t.initialSearchParameters,n=xt(t,St);return e.reduce(function(e,t){return!t.getWidgetSearchParameters||b(t)?e:"search"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):t.getWidgetSearchParameters(e,n)},r)}function It(e,t){var r=t.initialRecommendParameters,n=xt(t,wt);return e.reduce(function(e,t){return!b(t)&&"recommend"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,n):e},r)}function Nt(e){if(void 0===e||void 0===e.indexName)throw new Error(Et("The `indexName` option is required."));var a=e.indexName,s=void 0===(e=e.indexId)?a:e,c=[],u={},l=null,f=null,h=null,p=null,d=null,m=!1,g=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return a},getIndexId:function(){return s},getHelper:function(){return h},getResults:function(){var e;return null!=(e=p)&&e.lastResults?(p.lastResults._state=h.state,p.lastResults):null},getResultsForWidget:function(e){var t;return"recommend"!==e.dependsOn||b(e)||void 0===e.$$id?this.getResults():null!=(t=h)&&t.lastRecommendResults?h.lastRecommendResults[e.$$id]:null},getPreviousState:function(){return d},getScopedResults:function(){var e=this.getParent();return function r(e){return e.filter(b).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(_t(r(t.getWidgets()))))},[])}(e?e.getWidgets():0===a.length?this.getWidgets():[this])},getParent:function(){return f},createURL:function(e){return"function"==typeof e?l._createURL(Pt({},s,e(u))):l._createURL(Pt({},s,Tt(c,{searchParameters:e,helper:h})))},getWidgets:function(){return c},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Et("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(Et("The widget definition expects a `render` and/or an `init` method."));return e.forEach(function(e){b(e)||(l&&"recommend"===e.dependsOn?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:"recommend"===e.dependsOn?m=!0:g=!0,"recommend"===(e=e).dependsOn&&(e.$$id=vt++))}),c=c.concat(e),l&&Boolean(e.length)&&(Ft(h,{state:kt(c,{uiState:u,initialSearchParameters:h.state}),recommendState:It(c,{uiState:u,initialRecommendParameters:h.recommendState}),_uiState:u}),e.forEach(function(e){e.getRenderState&&Ct({renderState:e.getRenderState(l.renderState[t.getIndexId()]||{},Ye(l,t,l._initialUiState)),instantSearchInstance:l,parent:t})}),e.forEach(function(e){e.init&&e.init(Ye(l,t,l._initialUiState))}),l.scheduleSearch()),this},removeWidgets:function(t){var e,r,n=this;if(!Array.isArray(t))throw new Error(Et("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw new Error(Et("The widget definition expects a `dispose` method."));return(c=c.filter(function(e){return-1===t.indexOf(e)})).forEach(function(e){b(e)||(l&&"recommend"===e.dependsOn?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:"recommend"===e.dependsOn?m=!0:g=!0)}),l&&Boolean(t.length)&&(r=(e=t.reduce(function(e,t){t=t.dispose({helper:h,state:e.cleanedSearchState,recommendState:e.cleanedRecommendState,parent:n});return t instanceof y.RecommendParameters?e.cleanedRecommendState=t:t&&(e.cleanedSearchState=t),e},{cleanedSearchState:h.state,cleanedRecommendState:h.recommendState})).cleanedSearchState,e=e.cleanedRecommendState,r=l.future.preserveSharedStateOnUnmount?kt(c,{uiState:u,initialSearchParameters:new y.SearchParameters({index:this.getIndexName()})}):kt(c,{uiState:Tt(c,{searchParameters:r,helper:h}),initialSearchParameters:r}),u=Tt(c,{searchParameters:r,helper:h}),h.setState(r),h.recommendState=e,c.length)&&l.scheduleSearch(),this},init:function(e){var i,t,r=this,n=e.instantSearchInstance,o=e.uiState;null===h&&(l=n,f=e.parent,u=o[s]||{},i=n.mainHelper,e=kt(c,{uiState:u,initialSearchParameters:new y.SearchParameters({index:a})}),t=It(c,{uiState:u,initialRecommendParameters:new y.RecommendParameters}),(h=y({},e.index,e)).recommendState=t,h.search=function(){return n.onStateChange?(n.onStateChange({uiState:n.mainIndex.getWidgetUiState({}),setUiState:function(e){return n.setUiState(e,!1)}}),i):i.search()},h.searchWithoutTriggeringOnStateChange=function(){return i.search()},h.searchForFacetValues=function(e,t,r,n){n=h.state.setQueryParameters(n);return i.searchForFacetValues(e,t,r,n)},p=i.derive(function(){return bt.apply(void 0,[i.state].concat(_t((e=>{for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r})(r))))},function(){return r.getHelper().recommendState}),null!=(t=null==(e=n._initialResults)?void 0:e[this.getIndexId()])&&t.results&&(e=new y.SearchResults(new y.SearchParameters(t.state),t.results),p.lastResults=e,h.lastResults=e),null!=t&&t.recommendResults&&(e=new y.RecommendResults(new y.RecommendParameters({params:t.recommendResults.params}),t.recommendResults.results),p.lastRecommendResults=e,h.lastRecommendResults=e),h.on("change",function(e){e.isPageReset&&function r(e){e=e.filter(b);0!==e.length&&e.forEach(function(e){var t=e.getHelper();Ft(t,{state:t.state.resetPage(),recommendState:t.recommendState,isPageReset:!0}),r(e.getWidgets())})}(c)}),p.on("search",function(){n.scheduleStalledRender()}),p.on("result",function(e){e=e.results;n.scheduleRender(),h.lastResults=e,d=null==e?void 0:e._state}),p.on("recommend:result",function(e){e=e.recommend;n.scheduleRender(),h.lastRecommendResults=e.results}),c.forEach(function(e){e.getRenderState&&Ct({renderState:e.getRenderState(n.renderState[r.getIndexId()]||{},Ye(n,r,o)),instantSearchInstance:n,parent:r})}),c.forEach(function(e){e.init&&e.init(Ye(n,r,o))}),h.on("change",function(e){var t=e.state;u=Tt(c,{searchParameters:t,helper:h},e._uiState||{}),n.onStateChange||n.onInternalStateChange()}),t&&n.scheduleRender(),m&&(n._hasRecommendWidget=!0),g)&&(n._hasSearchWidget=!0)},render:function(e){var t=this,r=e.instantSearchInstance,e=("error"===r.status&&!r.mainHelper.hasPendingRequests()&&d&&h.setState(d),this.getResults()||null!=(e=p)&&e.lastRecommendResults?c:c.filter(b));(e=e.filter(function(e){return!e.shouldRender||e.shouldRender({instantSearchInstance:r})})).forEach(function(e){e.getRenderState&&Ct({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},Ge(r,t,e)),instantSearchInstance:r,parent:t})}),e.forEach(function(e){e.render&&e.render(Ge(r,t,e))})},dispose:function(){var e,t=this;c.forEach(function(e){e.dispose&&h&&e.dispose({helper:h,state:h.state,recommendState:h.recommendState,parent:t})}),(f=l=null)!=(e=h)&&e.removeAllListeners(),(h=null)!=(e=p)&&e.detach(),p=null},getWidgetUiState:function(e){return c.filter(b).reduce(function(e,t){return t.getWidgetUiState(e)},R(R({},e),{},Pt({},s,R(R({},e[s]),u))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){t=t.uiState;return kt(c,{uiState:t,initialSearchParameters:e})},refreshUiState:function(){u=Tt(c,{searchParameters:this.getHelper().state,helper:this.getHelper()},u)},setIndexUiState:function(e){var t="function"==typeof e?e(u):e;l.setUiState(function(e){return R(R({},e),{},Pt({},s,t))})}}}function Ct(e){var t=e.renderState,r=e.instantSearchInstance,e=e.parent,e=(e||r.mainIndex).getIndexId();r.renderState=R(R({},r.renderState),{},Pt({},e,R(R({},r.renderState[e]),t)))}function At(e,t){return e.toLocaleString(t)}function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Dt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Dt(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Dt(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ht(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var Lt=Promise.resolve();function $t(n){function e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null===i&&(i=Lt.then(function(){i=null,o?o=!1:n.apply(void 0,t)}))}var i=null,o=!1;return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(o=!0)},e}function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach(function(e){Mt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Mt(e,t,r){return n=(e=>{if("object"!==Ut(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ut(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===Ut(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function Bt(r){return Object.keys(r).map(function(e){return function(){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var n=0;return"%s=%s".replace(/%s/g,function(){return encodeURIComponent(t[n++])})}("%s=%s",e,(t=r[e],"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)?JSON.stringify(r[e]):r[e]));var t}).join("&")}function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Kt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Vt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Vt(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Vt(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Jt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function zt(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(b).forEach(function(e){return zt(t,e)})}function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Xt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach(function(e){F(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Zt(e,t){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r){(t=tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function tr(e){e=(e=>{if("object"!==Yt(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Yt(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return"symbol"===Yt(e)?e:String(e)}var T=d({name:"instantsearch"});function rr(){return"#"}var nr={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1};function k(e){return new t(e)}let t=(()=>{var e=m,t=Le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t),r=m,n=(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();var r,n,d=function(){var e,t=er(r),t=(e=n?(e=er(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)};function m(e){var r;if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");F(E(r=d.call(this)),"client",void 0),F(E(r),"indexName",void 0),F(E(r),"insightsClient",void 0),F(E(r),"onStateChange",null),F(E(r),"future",void 0),F(E(r),"helper",void 0),F(E(r),"mainHelper",void 0),F(E(r),"mainIndex",void 0),F(E(r),"started",void 0),F(E(r),"templatesConfig",void 0),F(E(r),"renderState",{}),F(E(r),"_stalledSearchDelay",void 0),F(E(r),"_searchStalledTimer",void 0),F(E(r),"_initialUiState",void 0),F(E(r),"_initialResults",void 0),F(E(r),"_createURL",void 0),F(E(r),"_searchFunction",void 0),F(E(r),"_mainHelperSearch",void 0),F(E(r),"_hasSearchWidget",!1),F(E(r),"_hasRecommendWidget",!1),F(E(r),"_insights",void 0),F(E(r),"middleware",[]),F(E(r),"sendEventToInsights",void 0),F(E(r),"status","idle"),F(E(r),"error",void 0),F(E(r),"scheduleSearch",$t(function(){r.started&&r.mainHelper.search()})),F(E(r),"scheduleRender",$t(function(){var e,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];null!=(e=r.mainHelper)&&e.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,t&&(r.status="idle",r.error=void 0)),r.mainIndex.render({instantSearchInstance:E(r)}),r.emit("render")})),F(E(r),"onInternalStateChange",$t(function(){var t=r.mainIndex.getWidgetUiState({});r.middleware.forEach(function(e){e.instance.onStateChange({uiState:t})})})),r.setMaxListeners(100);var n,t=e.indexName,t=void 0===t?"":t,i=e.numberLocale,o=e.initialUiState,o=void 0===o?{}:o,a=e.routing,a=void 0===a?null:a,s=e.insights,s=void 0===s?void 0:s,c=e.searchFunction,u=e.stalledSearchDelay,u=void 0===u?200:u,l=e.searchClient,l=void 0===l?null:l,f=e.insightsClient,f=void 0===f?null:f,h=e.onStateChange,h=void 0===h?null:h,p=e.future,e=void 0===p?Xt(Xt({},nr),e.future||{}):p;if(null===l)throw new Error(T("The `searchClient` option is required."));if("function"!=typeof l.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof l.addAlgoliaAgent&&l.addAlgoliaAgent("instantsearch.js (".concat("4.73.2",")")),f&&"function"!=typeof f)throw new Error(T("The `insightsClient` option should be a function."));return r.client=l,r.future=e,r.insightsClient=f,r.indexName=t,r.helper=null,r.mainHelper=null,r.mainIndex=Nt({indexName:t}),r.onStateChange=h,r.started=!1,r.templatesConfig={helpers:(n={numberLocale:i}.numberLocale,{formatNumber:function(e,t){return At(Number(t(e)),n)},highlight:function(e,t){try{return t(pe(x(x({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(Se(x(x({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(je(x(x({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(_e(x(x({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(Fe(n,x({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}),compileOptions:{}},r._stalledSearchDelay=u,r._searchStalledTimer=null,r._createURL=rr,r._initialUiState=o,r._initialResults=null,r._insights=s,c&&(r._searchFunction=c),r.sendEventToInsights=P,a&&((p="boolean"==typeof a?{}:a).$$internal=!0,r.use(function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.router,i=void 0===t?function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.createURL,r=e.parseURL,n=e.writeDelay,i=e.getLocation;return new nt({createURL:void 0===t?function(e){var t=e.qsModule,r=e.location,n=r.protocol,i=r.hostname,o=r.port,o=void 0===o?"":o,a=r.pathname,r=r.hash,t=t.stringify(e.routeState),e=""===o?"":":".concat(o);return(t?"".concat(n,"//").concat(i).concat(e).concat(a,"?").concat(t):"".concat(n,"//").concat(i).concat(e).concat(a)).concat(r)}:t,parseURL:void 0===r?function(e){var t=e.qsModule,e=e.location;return t.parse(e.search.slice(1),{arrayLimit:99})}:r,writeDelay:void 0===n?400:n,windowTitle:e.windowTitle,getLocation:void 0===i?function(){return O(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:i,start:e.start,dispose:e.dispose,push:e.push,cleanUrlOnDispose:e.cleanUrlOnDispose})}():t,t=e.stateMapping,o=void 0===t?{$$type:"ais.simple",stateToRoute:function(r){return Object.keys(r).reduce(function(e,t){return st(st({},e),{},ct({},t,ut(r[t])))},{})},routeToState:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return st(st({},e),{},ct({},t,ut(r[t])))},{})}}:t,t=e.$$internal,a=void 0!==t&&t;return function(e){var t=e.instantSearchInstance,r=(t._createURL=function(r){var e=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),e=Object.keys(r).reduce(function(e,t){return ht(ht({},e),{},pt({},t,r[t]))},e),e=o.stateToRoute(e);return i.createURL(e)},void 0),n=t._initialUiState;return{$$type:"ais.router({router:".concat(i.$$type||"__unknown__",", stateMapping:").concat(o.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){e=e.uiState,e=o.stateToRoute(e);void 0!==r&&Ce(r,e)||(i.write(e),r=e)},subscribe:function(){t._initialUiState=ht(ht({},n),o.routeToState(i.read())),i.onUpdate(function(e){0<t.mainIndex.getWidgets().length&&t.setUiState(o.routeToState(e))})},started:function(){var e;null!=(e=i.start)&&e.call(i)},unsubscribe:function(){i.dispose()}}}}(p))),s&&((l="boolean"==typeof s?{}:s).$$internal=!0,r.use(Je(l))),O(function(e){return-1<(null==(e=e.window.navigator)||null==(e=e.userAgent)?void 0:e.indexOf("Algolia Crawler"))},{fallback:function(){return!1}})&&r.use(Xe({$$internal:!0})),r}for(var i=(e=m).prototype,o=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){var t=Xt({$$type:"__unknown__",$$internal:!1,subscribe:P,started:P,unsubscribe:P,onStateChange:P},e({instantSearchInstance:r}));return r.middleware.push({creator:e,instance:t}),t});return this.started&&i.forEach(function(e){e.subscribe(),e.started()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(T("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(T("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(T("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(T("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var n=this;if(this.started)throw new Error(T("The `start` method has already been called once."));var r,i,e,o,a,t,s,c,u=this.mainHelper||y(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});u.search=function(){return n.status="loading",n.scheduleRender(!1),n._hasSearchWidget&&u.searchOnlyWithDerivedHelpers(),n._hasRecommendWidget&&u.recommend(),u},this._searchFunction&&(i={search:function(){return new Promise(P)}},this._mainHelperSearch=u.search.bind(u),u.search=function(){var t=n.mainIndex.getHelper(),e=y(i,t.state.index,t.state);return e.once("search",function(e){e=e.state;t.overrideStateWithoutTriggeringChangeEvent(e),n._mainHelperSearch()}),e.on("change",function(e){e=e.state;t.setState(e)}),n._searchFunction(e),u}),u.on("error",function(e){var r,e=e.error;e instanceof Error||(r=e,e=Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},new Error(r.message))),e.error=e,n.error=e,n.status="error",n.scheduleRender(!1),n.emit("error",e)}),this.mainHelper=u,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults?(o=this.client,(a=this._initialResults)&&("transporter"in o&&!o._cacheHydrated||o._useCache&&"function"==typeof o.addAlgoliaAgent)&&(t=[Object.keys(a).reduce(function(e,t){var t=a[t],r=t.state,n=t.requestParams,t=t.results,t=t&&r?t.map(function(e,t){return Wt({indexName:r.index||e.index},null!=n&&n[t]||e.params?{params:Bt((null==n?void 0:n[t])||e.params.split("&").reduce(function(e,t){var t=(e=>{if(Array.isArray(e))return e})(t=t.split("="))||(e=>{var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,i,o,a=[],s=!0,c=!1;try{for(i=(t=t.call(e)).next;!(s=(r=i.call(t)).done)&&(a.push(r.value),2!==a.length);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw n}}return a}})(t)||(e=>{var t;if(e)return"string"==typeof e?Qt(e,2):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Qt(e,2):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),r=t[0],t=t[1];return e[r]=t?decodeURIComponent(t):"",e},{}))}:{})}):[];return e.concat(t)},[])],c=Object.keys(a).reduce(function(e,t){t=a[t].results;return t?e.concat(t):e},[]),"transporter"in o&&!o._cacheHydrated&&(o._cacheHydrated=!0,s=o.search,o.search=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.map(function(e){return Wt(Wt({},e),{},{params:Bt(e.params)})});return o.transporter.responsesCache.get({method:"search",args:[i].concat(r)},function(){return s.apply(void 0,[e].concat(r))})},o.transporter.responsesCache.set({method:"search",args:t},{results:c})),"transporter"in o||(c="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t})),o.cache=Wt(Wt({},o.cache),{},Mt({},c,JSON.stringify({results:Object.keys(a).map(function(e){return a[e].results})}))))),t=this.mainHelper,r=this._initialResults,c=Object.keys(r).reduce(function(e,t){t=r[t];return t.recommendResults?Kt(Kt({},e),t.recommendResults.results):e},{}),t._recommendCache=c,e=this.scheduleSearch,this.scheduleSearch=$t(P),$t(function(){n.scheduleSearch=e})()):0<this.mainIndex.getWidgets().length&&this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(e){e.instance.started()}),void 0===this._insights&&u.derivedHelpers[0].once("result",function(){n.mainIndex.getScopedResults().some(function(e){e=e.results;return null==e?void 0:e._automaticInsights})&&n.use(Je({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null!=(e=this.mainHelper)&&e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e.status="stalled",e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(T("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){zt("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(zt(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){if(this.started)return this._createURL(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});throw new Error(T("The `start` method needs to be called before `createURL`."))}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(T("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],a=0;a<o.length;a++){var s=o[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,tr(s.key),s)}return Object.defineProperty(e,"prototype",{writable:!1}),m})(),n=(k.version="4.73.2",k.createInfiniteHitsSessionStorageCache=function(){return{read:function(e){var t=e.state,r=O(function(e){return e.window.sessionStorage});if(!r)return null;try{var n=JSON.parse(r.getItem(He));return n&&Ce(n.state,De(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{r.removeItem(He)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits,n=O(function(e){return e.window.sessionStorage});if(n)try{n.setItem(He,JSON.stringify({state:De(t),hits:r}))}catch(e){}}}},k.highlight=pe,k.reverseHighlight=Se,k.snippet=je,k.reverseSnippet=_e,k.insights=Fe,k.getInsightsAnonymousUserToken=Ie,Object.defineProperty(k,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(k,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}}),k);function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?or(Object(r),!0).forEach(function(e){ar(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ar(e,t,r){return n=(e=>{if("object"!==ir(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ir(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===ir(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}var sr=d({name:"configure",connector:!0});function cr(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return I(I({},e),{},ar({},t,void 0))},{}))}function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==ur(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ur(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===ur(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):lr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function hr(e){return fr(fr({},function(e,t){var r=0<arguments.length&&void 0!==e?e:P,i=1<arguments.length&&void 0!==t?t:P;return function(n){var t;if(n&&ie(n.searchParameters))return t={},{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;r(I(I({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(I(I({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),cr(e,n)},getRenderState:function(e,t){t=this.getWidgetRenderState(t);return I(I({},e),{},{configure:I(I({},t),{},{widgetParams:I(I({},t.widgetParams),{},{searchParameters:bt(new y.SearchParameters(null==(e=e.configure)?void 0:e.widgetParams.searchParameters),new y.SearchParameters(t.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var r,e=e.helper;return t.refine||(t.refine=(r=e,function(e){var t=cr(r.state,n),t=bt(t,new y.SearchParameters(e));n.searchParameters=e,r.setState(t).search()})),{refine:t.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){t=t.uiState;return bt(e,new y.SearchParameters(I(I({},t.configure),n.searchParameters)))},getWidgetUiState:function(e){return I(I({},e),{},{configure:I(I({},e.configure),n.searchParameters)})}};throw new Error(sr("The `searchParameters` option expects an object."))}}(P)({searchParameters:e})),{},{$$widgetType:"ais.configure"})}function N(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])},[]).filter(Boolean).join(" ")}var pr,C,dr,mr,gr={},yr=[],br=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vr=Array.isArray;function A(e,t){for(var r in t)e[r]=t[r];return e}function Or(e){var t=e.parentNode;t&&t.removeChild(e)}function D(e,t,r){var n,i,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(2<arguments.length&&(a.children=3<arguments.length?pr.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return Sr(e,a,n,i,null)}function Sr(e,t,r,n,i){e={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++dr:i,__i:-1,__u:0};return null==i&&null!=C.vnode&&C.vnode(e),e}function H(e){return e.children}function L(e,t){this.props=e,this.context=t}function U(e,t){if(null==t)return e.__?U(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?U(e):null}function wr(e){(e.__d||(e.__d=!0,!Cr.push(e))||jr.__r++)&&mr===C.debounceRendering||((mr=C.debounceRendering)||Ar)(jr)}function jr(){var e,t,r,n,i,o,a;for(Cr.sort(Dr);t=Cr.shift();)t.__d&&(e=Cr.length,r=void 0,i=(n=(t=t).__v).__e,o=[],a=[],t.__P&&((r=A({},n)).__v=n.__v+1,C.vnode&&C.vnode(r),Er(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,o,null==i?U(n):i,!!(32&n.__u),a),r.__v=n.__v,Fr(o,r.__.__k[r.__i]=r,a),r.__e!=i)&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(r),Cr.length>e)&&Cr.sort(Dr);jr.__r=0}function Pr(e,t,r,n,i,o,a,s,c,u,l){var f,h,p,d,m,g,y,b,v,O,S=n&&n.__k||yr,w=t.length,j=(r.__d=c,r),P=t,_=S,R=P.length,x=_.length,E=x,F=0;for(j.__k=[],g=0;g<R;g++)v=g+F,null!=(y=j.__k[g]=null==(y=P[g])||"boolean"==typeof y||"function"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y||y.constructor==String?Sr(null,y,null,null,null):vr(y)?Sr(H,{children:y},null,null,null):void 0===y.constructor&&0<y.__b?Sr(y.type,y.props,y.key,y.ref||null,y.__v):y)?(y.__=j,y.__b=j.__b+1,O=((e,t,r,n)=>{var i=e.key,o=e.type,a=r-1,s=r+1,c=t[r];if(null===c||c&&i==c.key&&o===c.type&&!(131072&c.__u))return r;if(n>(null==c||131072&c.__u?0:1))for(;0<=a||s<t.length;){if(0<=a){if((c=t[a])&&!(131072&c.__u)&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&!(131072&c.__u)&&i==c.key&&o===c.type)return s;s++}}return-1})(y,_,v,E),y.__i=O,b=null,-1!==O&&(E--,b=_[O])&&(b.__u|=131072),null==b||null===b.__v?(-1==O&&F--,"function"!=typeof y.type&&(y.__u|=65536)):O!==v&&(O==v-1?F=O-v:O==v+1?F++:v<O?R-v<E?F+=O-v:F--:O<v&&F++,O!==g+F)&&(y.__u|=65536)):!(b=_[v])||null!=b.key||!b.__e||131072&b.__u||(b.__e==j.__d&&(j.__d=U(b)),kr(b,b,!1),_[v]=null,E--);if(E)for(g=0;g<x;g++)null==(b=_[g])||131072&b.__u||(b.__e==j.__d&&(j.__d=U(b)),kr(b,b));for(c=r.__d,f=0;f<w;f++)null!=(p=r.__k[f])&&"boolean"!=typeof p&&"function"!=typeof p&&(h=-1!==p.__i&&S[p.__i]||gr,p.__i=f,Er(e,p,h,i,o,a,s,c,u,l),d=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Tr(h.ref,null,p),l.push(p.ref,p.__c||d,p)),null==m&&null!=d&&(m=d),65536&p.__u||h.__k===p.__k?c=function e(t,r,n){var i,o;if("function"==typeof t.type){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,r=e(i[o],r,n));return r}t.__e!=r&&(n.insertBefore(t.__e,r||null),r=t.__e);for(;r=r&&r.nextSibling,null!=r&&8===r.nodeType;);return r}(p,c=c&&"string"==typeof p.type&&!e.contains(c)?U(h):c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:d&&(c=d.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=m}function _r(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||br.test(t)?r:r+"px"}function Rr(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||_r(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||_r(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=(t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase():t).slice(2),e.l||(e.l={}),(e.l[t+o]=r)?n?r.u=n.u:(r.u=Hr,e.addEventListener(t,o?$r:Lr,o)):e.removeEventListener(t,o?$r:Lr,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"!=typeof r&&(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function xr(r){return function(e){if(this.l){var t=this.l[e.type+r];if(null==e.t)e.t=Hr++;else if(e.t<t.u)return;return t(C.event?C.event(e):e)}}}function Er(e,t,r,n,i,o,a,s,c,u){var l,f,h,p,d,m,g,y,b,v,O,S,w,j,P,_,R=t.type;if(void 0===t.constructor){128&r.__u&&(c=!!(32&r.__u),o=[s=t.__e=r.__e]),(l=C.__b)&&l(t);e:if("function"==typeof R)try{if(y=t.props,b="prototype"in R&&R.prototype.render,v=(l=R.contextType)&&n[l.__c],O=l?v?v.props.value:l.__:n,r.__c?g=(f=t.__c=r.__c).__=f.__E:(b?t.__c=f=new R(y,O):(t.__c=f=new L(y,O),f.constructor=R,f.render=Ir),v&&v.sub(f),f.props=y,f.state||(f.state={}),f.context=O,f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),b&&null==f.__s&&(f.__s=f.state),b&&null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=A({},f.__s)),A(f.__s,R.getDerivedStateFromProps(y,f.__s))),p=f.props,d=f.state,f.__v=t,h)b&&null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),b&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(b&&null==R.getDerivedStateFromProps&&y!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(y,O),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(y,f.__s,O)||t.__v===r.__v)){for(t.__v!==r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(y,f.__s,O),b&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(p,d,m)})}if(f.context=O,f.props=y,f.__P=e,f.__e=!1,w=C.__r,j=0,b){for(f.state=f.__s,f.__d=!1,w&&w(t),l=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else for(;f.__d=!1,w&&w(t),l=f.render(f.props,f.state,f.context),f.state=f.__s,f.__d&&++j<25;);f.state=f.__s,null!=f.getChildContext&&(n=A(A({},n),f.getChildContext())),b&&!h&&null!=f.getSnapshotBeforeUpdate&&(m=f.getSnapshotBeforeUpdate(p,d)),Pr(e,vr(_=null!=l&&l.type===H&&null==l.key?l.props.children:l)?_:[_],t,r,n,i,o,a,s,c,u),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),g&&(f.__E=f.__=null)}catch(e){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=r.__e,t.__k=r.__k),C.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=((e,t,r,n,i,o,a,s,c)=>{var u,l,f,h,p,d,m,g=r.props,y=t.props,b=t.type;if(i="svg"===b?"http://www.w3.org/2000/svg":"math"===b?"http://www.w3.org/1998/Math/MathML":i||"http://www.w3.org/1999/xhtml",null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!b&&(b?p.localName===b:3===p.nodeType)){e=p,o[u]=null;break}if(null==e){if(null===b)return document.createTextNode(y);e=document.createElementNS(i,b,y.is&&y),o=null,s=!1}if(null===b)g===y||s&&e.data===y||(e.data=y);else{if(o=o&&pr.call(e.childNodes),g=r.props||gr,!s&&null!=o)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)if(p=g[u],"children"!=u)if("dangerouslySetInnerHTML"==u)f=p;else if("key"!==u&&!(u in y)){if("value"==u&&"defaultValue"in y||"checked"==u&&"defaultChecked"in y)continue;Rr(e,u,null,p,i)}for(u in y)p=y[u],"children"==u?h=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?d=p:"checked"==u?m=p:"key"===u||s&&"function"!=typeof p||g[u]===p||Rr(e,u,p,g[u],i);if(l)s||f&&(l.__html===f.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(f&&(e.innerHTML=""),Pr(e,vr(h)?h:[h],t,r,n,"foreignObject"===b?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&U(r,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&Or(o[u]);s||(u="value",void 0!==d&&(d!==e[u]||"progress"===b&&!d||"option"===b&&d!==g[u])&&Rr(e,u,d,g[u],i),u="checked",void 0!==m&&m!==e[u]&&Rr(e,u,m,g[u],i))}return e})(r.__e,t,r,n,i,o,a,c,u);(l=C.diffed)&&l(t)}}function Fr(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)Tr(r[n],r[++n],r[++n]);C.__c&&C.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){C.__e(e,t.__v)}})}function Tr(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){C.__e(e,r)}}function kr(e,t,r){var n,i;if(C.unmount&&C.unmount(e),!(n=e.ref)||n.current&&n.current!==e.__e||Tr(n,null,t),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){C.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&kr(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||Or(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Ir(e,t,r){return this.constructor(e,r)}function Q(e,t,r){var n,i,o,a;C.__&&C.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],a=[],Er(t,e=(!n&&r||t).__k=D(H,null,[e]),i||gr,gr,t.namespaceURI,!n&&r?[r]:!i&&t.firstChild?pr.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n,a),Fr(o,e,a)}function Nr(e,t,r,n){t[0]=0;for(var i=1;i<t.length;i++){var o=t[i++],a=t[i]?(t[0]|=o?1:2,r[t[i++]]):t[++i];3===o?n[0]=a:4===o?n[1]=Object.assign(n[1]||{},a):5===o?(n[1]=n[1]||{})[t[++i]]=a:6===o?n[1][t[++i]]+=a+"":o?(o=e.apply(a,Nr(e,a,r,["",null])),n.push(o),a[0]?t[0]|=2:(t[i-2]=0,t[i]=o)):n.push(a)}return n}pr=yr.slice,C={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},dr=0,L.prototype.setState=function(e,t){var r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=A({},this.state);(e="function"==typeof e?e(A({},r),this.props):e)&&A(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),wr(this))},L.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),wr(this))},L.prototype.render=H;var Cr=[],Ar="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Dr=function(e,t){return e.__v.__b-t.__v.__b},Hr=jr.__r=0,Lr=xr(!1),$r=xr(!0),Ur=s(714),Qr=new Map,qr=function(e){var t=Qr.get(this);return t||(t=new Map,Qr.set(this,t)),1<(t=Nr(this,t.get(e)||(t.set(e,t=(e=>{for(var t,r,n=1,i="",o="",a=[0],s=function(e){1===n&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===n&&(e||i)?(a.push(3,e,i),n=2):2===n&&"..."===i&&e?a.push(4,e,0):2===n&&i&&!e?a.push(5,0,!0,i):5<=n&&((i||!e&&5===n)&&(a.push(n,0,i,r),n=6),e)&&(a.push(n,e,0,r),n=6),i=""},c=0;c<e.length;c++){c&&(1===n&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===n?"<"===t?(s(),a=[a],n=3):i+=t:4===n?i="--"===i&&">"===t?(n=1,""):t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),n=1):n&&("="===t?(n=5,r=i,i=""):"/"===t&&(n<5||">"===e[c][u+1])?(s(),3===n&&(a=a[0]),(a=(n=a)[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),n=2):i+=t),3===n&&"!--"===i&&(n=4,a=a[0])}return s(),a})(e)),t),arguments,[])).length?t:t[0]}.bind(D);function Wr(){return(Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function Mr(e,t){if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var Br,Vr,Jr,Kr,zr=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],Yr=(Br=(u={createElement:D,Fragment:H}).createElement,Kr={createElement:Br,Fragment:Vr=u.Fragment}.createElement,Jr=function(e){var t=e.classNames,r=e.isHighlighted;return Kr(r?e.highlightedTagName:e.nonHighlightedTagName,{className:r?t.highlighted:t.nonHighlighted},e.children)},function(e){var n=e.parts,t=e.highlightedTagName,i=void 0===t?"mark":t,t=e.nonHighlightedTagName,o=void 0===t?"span":t,t=e.separator,a=void 0===t?", ":t,t=e.className,r=e.classNames,s=void 0===r?{}:r,r=Mr(e,zr);return Br("span",Wr({},r,{className:N(s.root,t)}),n.map(function(e,t){var r=t===n.length-1;return Br(Vr,{key:t},e.map(function(e,t){return Br(Jr,{key:t,classNames:s,highlightedTagName:i,nonHighlightedTagName:o,isHighlighted:e.isHighlighted},e.value)}),!r&&Br("span",{className:s.separator},a))}))}),Gr=["classNames"];function Xr(){return(Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zr(e){var t=e.classNames,t=void 0===t?{}:t,e=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,Gr);return D(Yr,Xr({classNames:{root:N("ais-Highlight",t.root),highlighted:N("ais-Highlight-highlighted",t.highlighted),nonHighlighted:N("ais-Highlight-nonHighlighted",t.nonHighlighted),separator:N("ais-Highlight-separator",t.separator)}},e))}function en(e){return Array.isArray(e)?e:[e]}var tn=["hit","attribute","cssClasses"];function rn(){return(rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e){var t=e.hit,r=e.attribute,n=e.cssClasses;return D(Zr,rn({},((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,tn),{parts:en(l(t._highlightResult,r)||[]).map(function(e){return h(re(e.value||""))}),classNames:n}))}var on=["classNames"];function an(){return(an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){var t=e.classNames,t=void 0===t?{}:t,e=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,on);return D(Yr,an({classNames:{root:N("ais-ReverseHighlight",t.root),highlighted:N("ais-ReverseHighlight-highlighted",t.highlighted),nonHighlighted:N("ais-ReverseHighlight-nonHighlighted",t.nonHighlighted),separator:N("ais-ReverseHighlight-separator",t.separator)}},e))}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var un=["hit","attribute","cssClasses"],ln=["isHighlighted"];function fn(){return(fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function pn(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==cn(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==cn(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===cn(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):hn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function dn(e,t){if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function mn(e){var t=e.hit,r=e.attribute,n=e.cssClasses;return D(sn,fn({},dn(e,un),{parts:en(l(t._highlightResult,r)||[]).map(function(e){return h(re(e.value||"")).map(function(e){var t=e.isHighlighted;return pn(pn({},dn(e,ln)),{},{isHighlighted:!t})})}),classNames:n}))}var gn=["classNames"];function yn(){return(yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bn(e){var t=e.classNames,t=void 0===t?{}:t,e=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,gn);return D(Yr,yn({classNames:{root:N("ais-Snippet",t.root),highlighted:N("ais-Snippet-highlighted",t.highlighted),nonHighlighted:N("ais-Snippet-nonHighlighted",t.nonHighlighted),separator:N("ais-Snippet-separator",t.separator)}},e))}var vn=["hit","attribute","cssClasses"];function On(){return(On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sn(e){var t=e.hit,r=e.attribute,n=e.cssClasses;return D(bn,On({},((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,vn),{parts:en(l(t._snippetResult,r)||[]).map(function(e){return h(re(e.value||""))}),classNames:n}))}var wn=["classNames"];function jn(){return(jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pn(e){var t=e.classNames,t=void 0===t?{}:t,e=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,wn);return D(Yr,jn({classNames:{root:N("ais-ReverseSnippet",t.root),highlighted:N("ais-ReverseSnippet-highlighted",t.highlighted),nonHighlighted:N("ais-ReverseSnippet-nonHighlighted",t.nonHighlighted),separator:N("ais-ReverseSnippet-separator",t.separator)}},e))}function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Rn=["hit","attribute","cssClasses"],xn=["isHighlighted"];function En(){return(En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Tn(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==_n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==_n(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===_n(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Fn(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function kn(e,t){if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function In(e){var t=e.hit,r=e.attribute,n=e.cssClasses;return D(Pn,En({},kn(e,Rn),{parts:en(l(t._snippetResult,r)||[]).map(function(e){return h(re(e.value||"")).map(function(e){var t=e.isHighlighted;return Tn(Tn({},kn(e,xn)),{},{isHighlighted:!t})})}),classNames:n}))}function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function An(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(r),!0).forEach(function(e){Dn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Dn(e,t,r){return n=(e=>{if("object"!==Nn(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Nn(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===Nn(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function Hn(){return(Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zn(n.key),n)}}function qn(e,t,r){t&&Qn(e.prototype,t),r&&Qn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}function Wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mn(e,t)}function Mn(e,t){return(Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bn(r){var n=(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();return function(){var e,t=Jn(r),t=(e=n?(e=Jn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vn(t)}}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t,r){(t=zn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function zn(e){e=(e=>{if("object"!==Ln(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ln(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return"symbol"===Ln(e)?e:String(e)}Wn(ei,L),Gn=Bn(ei),qn(ei,[{key:"componentDidMount",value:function(){var e,t=new DocumentFragment,r=document.createElement("div");r.innerHTML=this.props.content,this.nodes=(e=>{if(Array.isArray(e))return $n(e)})(e=r.childNodes)||(()=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})()||(e=>{var t;if(e)return"string"==typeof e?$n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$n(e,void 0):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),this.nodes.forEach(function(e){return t.appendChild(e)}),this.ref.current.replaceWith(t)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach(function(e){e instanceof Element?e.outerHTML="":e.nodeValue=""}),this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return D("div",{ref:this.ref})}}]);var Yn,Gn,Xn=ei,u;function Zn(){return Un(this,Zn),Yn.apply(this,arguments)}function ei(){var e;Un(this,ei);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Kn(Vn(e=Gn.call.apply(Gn,[this].concat(r))),"ref",{current:null}),Kn(Vn(e),"nodes",[]),e}Wn(Zn,L),Yn=Bn(Zn),qn(Zn,[{key:"shouldComponentUpdate",value:function(e){return!Ce(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!Ce(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e="fragment"===this.props.rootTagName?H:this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},t=(e=>{var t=e.templateKey,r=e.compileOptions,n=e.helpers,i=e.data,o=e.bindEvent,a=e.sendEvent;if("string"!=typeof(e=e.templates[t])&&"function"!=typeof e)throw new Error("Template must be 'string' or 'function', was '".concat(Nn(e),"' (key: ").concat(t,")"));return"function"==typeof e?((t=o||{}).html=qr,t.sendEvent=a,t.components={Highlight:nn,ReverseHighlight:mn,Snippet:Sn,ReverseSnippet:In},e(i,t)):(o=function(e,t,r){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length?t:void 0,o=2<arguments.length?r:void 0;return Object.keys(n).reduce(function(e,r){return An(An({},e),{},Dn({},r,function(){var t=this;return function(e){return n[r].call(o,e,function(e){return Ur.compile(e,i).render(t)})}}))},{})}(n,r,i),Ur.compile(e,r).render(An(An({},i),{},{helpers:o})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim())})({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===t?null:"object"===Ln(t)?D(e,this.props.rootProps,t):e===H?D(Xn,{content:t,key:Math.random()}):D(e,Hn({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:t}}))}}]),Kn(u=Zn,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});let m=u;function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){return(ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,r){(t=ii(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function ii(e){e=(e=>{if("object"!==ti(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ti(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return"symbol"===ti(e)?e:String(e)}var u={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,ignoreCompositionEvents:!1,isSearchStalled:!1,disabled:!1,ariaLabel:"Search",onChange:P,onSubmit:P,onReset:P,refine:P},oi=(()=>{var e=a,t=L;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),ri(e,t),r=a,n=(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}})();var r,n,i=function(){var e,t=ni(r),t=(e=n?(e=ni(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return q(t)};function a(){var o,e=this;if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return W(q(o=i.call.apply(i,[this].concat(r))),"state",{query:o.props.query,focused:!1}),W(q(o),"input",{current:null}),W(q(o),"onInput",function(e){var t=o.props,r=t.searchAsYouType,n=t.refine,t=t.onChange,i=e.target.value;o.props.ignoreCompositionEvents&&e.isComposing||(r&&n(i),o.setState({query:i}),t(e))}),W(q(o),"onSubmit",function(e){var t=o.props,r=t.searchAsYouType,n=t.refine,t=t.onSubmit;return e.preventDefault(),e.stopPropagation(),o.input.current&&o.input.current.blur(),r||n(o.state.query),t(e),!1}),W(q(o),"onReset",function(e){var t=o.props,r=t.refine,t=t.onReset;o.input.current&&o.input.current.focus(),r(""),o.setState({query:""}),t(e)}),W(q(o),"onBlur",function(){o.setState({focused:!1})}),W(q(o),"onFocus",function(){o.setState({focused:!0})}),o}for(var o=(e=a).prototype,s=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,r=e.showSubmit,n=e.showReset,i=e.showLoadingIndicator,o=e.templates,a=e.isSearchStalled;return D("div",{className:t.root},D("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},D("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:e.placeholder,autoFocus:e.autofocus,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,oncompositionend:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,"aria-label":e.ariaLabel}),D(m,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query",hidden:!r},templates:o,data:{cssClasses:t}}),D(m,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query",hidden:!(n&&this.state.query.trim()&&!a)},templates:o,data:{cssClasses:t}}),i&&D(m,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!a},templates:o,data:{cssClasses:t}})))}}],c=0;c<s.length;c++){var u=s[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,ii(u.key),u)}return Object.defineProperty(e,"prototype",{writable:!1}),a})();W(oi,"defaultProps",u);let w=oi;function ai(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(Object.prototype.toString.call(e).slice(8,-1),").\n\n").concat(t))}function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function M(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ci(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==si(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==si(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===si(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ci(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ui(e,t){return t(e)}var li=d({name:"search-box",connector:!0});function fi(e){var t,r="string"==typeof e,n=r?document.querySelector(e):e;if((t=n)instanceof HTMLElement||Boolean(t)&&0<t.nodeType)return n;throw t="Container must be `string` or `HTMLElement`.",r&&(t+=" Unable to find ".concat(e)),new Error(t)}var hi=D("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),pi=D("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),di=D("g",{fill:"none","fill-rule":"evenodd"},D("g",{transform:"translate(1 1)","stroke-width":"2"},D("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),D("path",{d:"M36 18c0-9.94-8.06-18-18-18"},D("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));let j={reset:function(e){return D("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},hi)},submit:function(e){return D("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},pi)},loadingIndicator:function(e){return D("svg",{"aria-label":"Results are loading",className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},di)}};function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function yi(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==mi(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==mi(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===mi(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):gi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var bi=d({name:"search-box"}),B=c("SearchBox"),vi=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function Oi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Si(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==ji(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ji(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===ji(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Oi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e){var r,n,i,o,a,t,s,c,u=e.getIndex,l=e.widgetType,f=e.args,e=e.instantSearchInstance;return 1===f.length&&"object"===ji(f[0])?[f[0]]:(t=(e=>{if(Array.isArray(e))return e})(t=f[0].split(":"))||(e=>{var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,i,o,a=[],s=!0,c=!1;try{for(i=(t=t.call(e)).next;!(s=(r=i.call(t)).done)&&(a.push(r.value),2!==a.length);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw n}}return a}})(t)||(e=>{var t;if(e)return"string"==typeof e?wi(e,2):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wi(e,2):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})(),r=t[0],n=t[1],t=f[1],i=f[2],o=f[3]||{},!t||!("click"!==r&&"conversion"!==r||i)||0===(f=Array.isArray(t)?t:[t]).length?[]:(a=f[0].__queryID,t=function(e,t){for(var r=1<arguments.length&&void 0!==t?t:20,n=[],i=0;i<Math.ceil(e.length/r);i++)n.push(e.slice(i*r,(i+1)*r));return n}(f),s=t.map(function(e){return e.map(function(e){return e.objectID})}),c=t.map(function(e){return e.map(function(e){return e.__position})}),"view"===r?"idle"!==e.status?[]:t.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:l,eventType:r,payload:Si({eventName:i||"Hits Viewed",index:u(),objectIDs:s[t]},o),hits:e,eventModifier:n}}):"click"===r?t.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:l,eventType:r,payload:Si({eventName:i||"Hit Clicked",index:u(),queryID:a,objectIDs:s[t],positions:c[t]},o),hits:e,eventModifier:n}}):"conversion"===r?t.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:l,eventType:r,payload:Si({eventName:i||"Hit Converted",index:u(),queryID:a,objectIDs:s[t]},o),hits:e,eventModifier:n}}):[]))}function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function xi(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==_i(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==_i(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===_i(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ri(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ti(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fi(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Ei(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ei(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Ei(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Fi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ii(Object(r),!0).forEach(function(e){Ni(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ni(e,t,r){return n=(e=>{if("object"!==ki(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==ki(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===ki(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}var Ci=d({name:"hits",connector:!0});function Ai(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:P;return ai(r,Ci()),function(m){var g,y,e=m||{},t=e.escapeHTML,b=void 0===t||t,t=e.transformItems,v=void 0===t?function(e){return e}:t;return{$$type:"ais.hits",init:function(e){r(V(V({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(V(V({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1),t.sendEvent("view:internal",t.items)},getRenderState:function(e,t){return V(V({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var i,o,a,t,n,s,c,u,l,r=e.results,f=e.helper,e=e.instantSearchInstance;if(g||(t={instantSearchInstance:e,getIndex:function(){return f.getIndex()},widgetType:this.$$type},n=t.instantSearchInstance,s=t.getIndex,c=t.widgetType,u={},l=void 0,g=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Pi({widgetType:c,getIndex:s,methodName:"sendEvent",args:t,instantSearchInstance:n}).forEach(function(e){"click"===e.eventType&&"internal"===e.eventModifier&&u[e.eventType]||(u[e.eventType]=!0,n.sendEventToInsights(e))}),clearTimeout(l),l=setTimeout(function(){u={}},0)}),y||(t={getIndex:function(){return f.getIndex()},widgetType:this.$$type,instantSearchInstance:e},i=t.getIndex,o=t.widgetType,a=t.instantSearchInstance,y=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Pi({widgetType:o,getIndex:i,methodName:"bindEvent",args:t,instantSearchInstance:a});return n.length?"data-insights-event=".concat(Re(n)):""}),!r)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:g,bindEvent:y,widgetParams:m};b&&0<r.hits.length&&(r.hits=(void 0===(e=r.hits).__escaped&&((e=e.map(function(e){var t=ae({},((()=>{if(null==e)throw new TypeError("Cannot destructure "+e)})(),e));return t._highlightResult&&(t._highlightResult=fe(t._highlightResult)),t._snippetResult&&(t._snippetResult=fe(t._snippetResult)),t})).__escaped=!0),e));e=r.hits,p=r.page,d=r.hitsPerPage;var h,p,d,e=e.map(function(e,t){return xi(xi({},e),{},{__position:d*p+t+1})}),e=(e=e,(h=r.queryID)?e.map(function(e){return Ti(Ti({},e),{},{__queryID:h})}):e),e=v(e,{results:r});return{hits:e,items:e,results:r,banner:null==(e=r.renderingContent)||null==(r=e.widgets)||null==(e=r.banners)?void 0:e[0],sendEvent:g,bindEvent:y,widgetParams:m}},dispose:function(e){e=e.state;return n(),b?e.setQueryParameters(Object.keys(le).reduce(function(e,t){return V(V({},e),{},Ni({},t,void 0))},{})):e},getWidgetSearchParameters:function(e,t){return b?e.setQueryParameters(le):e}}}}function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Li(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Di(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Di(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Di(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Hi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function $i(t){return function(o,e){return t(function(e,t){var a,s,c,r=e.results,n=e.hits,i=e.instantSearchInstance;return r&&n&&i?(a=i.insightsClient,s=r,c=n,i=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r[0];if(!a)throw o=d({name:"instantsearch"}),new Error(o("The `insightsClient` option has not been provided to `instantsearch`."));if(!Array.isArray(i.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var o=(e=>{var r,t=e.method,n=e.objectIDs,i=e.results.index,o=(r=e.hits,n.map(function(t){var e=$e(r,function(e){return e.objectID===t});if(void 0===e)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return e})),a=(()=>{var e=dt(o.map(function(e){return e.__queryID}));if(1<e.length)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");if("string"!=typeof(e=e[0]))throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return e})();switch(t){case"clickedObjectIDsAfterSearch":var s=o.map(function(e){return e.__position});return{index:i,queryID:a,objectIDs:n,positions:s};case"convertedObjectIDsAfterSearch":return{index:i,queryID:a,objectIDs:n};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}})({method:e,results:s,hits:c,objectIDs:i.objectIDs});a(e,Li(Li({},o),i))},o(Li(Li({},e),{},{insights:i}),t)):o(e,t)},e)}}function Ui(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n}function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Wi(e,t,r){var n;n=(e=>{if("object"!==Qi(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Qi(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(t),(t="symbol"===Qi(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Mi(e){return(e=>{if(Array.isArray(e))return Bi(e)})(e)||(()=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})()||(e=>{var t;if(e)return"string"==typeof e?Bi(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bi(e,void 0):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vi(e){var t=e.defaultTemplates;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qi(Object(r),!0).forEach(function(e){Wi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({templatesConfig:e.templatesConfig},function(o,e){var a=1<arguments.length&&void 0!==e?e:{};return dt([].concat(Mi(Object.keys(o||{})),Mi(Object.keys(a)))).reduce(function(e,t){var r=o?o[t]:void 0,n=a[t],i=void 0!==n&&n!==r;return e.templates[t]=i?n:r,e.useCustomCompileOptions[t]=i,e},{templates:{},useCustomCompileOptions:{}})}(t,e.templates))}let g={empty:function(){return"No results"},item:function(e){return JSON.stringify((n=["__hitIndex"],null==(r=e)?r:Object.keys(r).reduce(function(e,t){return 0<=n.indexOf(t)||(e[t]=r[t]),e},{})),null,2);var r,n}};function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ki=["hit","index"];function zi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yi(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Ji(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Ji(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Ji(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):zi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Gi(){return(Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xi(e){var f=e.renderState,h=e.cssClasses,p=e.containerNode,d=e.templates;return function(e,t){var i,n,o,r=e.items,a=e.results,s=e.instantSearchInstance,c=e.insights,u=e.bindEvent,l=e.sendEvent,e=e.banner;t?f.templateProps=Vi({defaultTemplates:g,templatesConfig:s.templatesConfig,templates:d}):(n=(t={insights:c,sendEvent:l}).insights,o=t.sendEvent,i=function(e){var t,r=Ui(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-event")}),e=(r&&(()=>{var e=r.getAttribute("data-insights-event");if("string"!=typeof e)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return xe(e)}catch(e){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}})().forEach(function(e){return o(e)}),Ui(e.target,e.currentTarget,function(e){return e.hasAttribute("data-insights-method")&&e.hasAttribute("data-insights-payload")}));e&&(t=(e=(e=>{var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if("string"!=typeof r)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:xe(r)}}catch(e){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}})(e)).method,n(t,e.payload))},Q(D(eo,{hits:r,itemComponent:function(e){var t=e.hit,r=e.index,n=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,Ki);return D(m,Gi({},f.templateProps,{templateKey:"item",rootTagName:"li",rootProps:Yi(Yi({},n),{},{onClick:function(e){i(e),n.onClick()},onAuxClick:function(e){i(e),n.onAuxClick()}}),data:Yi(Yi({},t),{},{get __hitIndex(){return r}}),bindEvent:u,sendEvent:l}))},sendEvent:l,classNames:h,emptyComponent:function(e){var t=Gi({},((()=>{if(null==e)throw new TypeError("Cannot destructure "+e)})(),e));return D(m,Gi({},f.templateProps,{rootProps:t,templateKey:"empty",data:a,rootTagName:"fragment"}))},banner:e,bannerComponent:d.banner?function(e){return D(m,Gi({},f.templateProps,{templateKey:"banner",data:e,rootTagName:"fragment"}))}:void 0}),p))}}var Zi=d({name:"hits"}),eo=(e=>{function c(e){var t=e.classNames;return(e=e.banner).image.urls[0].url?r("aside",{className:N("ais-Hits-banner",t.bannerRoot)},e.link?r("a",{className:N("ais-Hits-banner-link",t.bannerLink),href:e.link.url,target:e.link.target},r("img",{className:N("ais-Hits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):r("img",{className:N("ais-Hits-banner-image",t.bannerImage),src:e.image.urls[0].url,alt:e.image.title})):null}var r,u=e.createElement;return r={createElement:u,Fragment:e.Fragment}.createElement,function(e){var t=e.classNames,r=void 0===t?{}:t,t=e.hits,n=e.itemComponent,i=e.sendEvent,o=e.emptyComponent,a=e.banner,s=e.bannerComponent,e=Mr(e,vi);return u("div",Wr({},e,{className:N("ais-Hits",r.root,0===t.length&&N("ais-Hits--empty",r.emptyRoot),e.className)}),a&&(s?u(s,{className:N("ais-Hits-banner",r.bannerRoot),banner:a}):u(c,{classNames:r,banner:a})),0===t.length&&o?u(o,null):u("ol",{className:N("ais-Hits-list",r.list)},t.map(function(e,t){return u(n,{key:e.objectID,hit:e,index:t,className:N("ais-Hits-item",r.item),onClick:function(){i("click:internal",e,"Hit Clicked")},onAuxClick:function(){i("click:internal",e,"Hit Clicked")}})})))}})({createElement:D,Fragment:H});function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ro=["nbHits","nbSortedHits","cssClasses","templateProps"];function no(){return(no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function io(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function oo(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?io(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==to(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==to(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===to(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):io(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ao(e){var t=e.nbHits,r=e.nbSortedHits,n=e.cssClasses,i=e.templateProps,e=((e,t)=>{if(null==e)return{};var r,n=((e,t)=>{if(null==e)return{};for(var r,n={},i=Object.keys(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)r=i[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n})(e,ro);return D("div",{className:N(n.root)},D(m,no({},i,{templateKey:"text",rootTagName:"span",rootProps:{className:n.text},data:oo({hasManySortedResults:r&&1<r,hasNoSortedResults:0===r,hasOneSortedResults:1===r,hasManyResults:1<t,hasNoResults:0===t,hasOneResult:1===t,nbHits:t,nbSortedHits:r,cssClasses:n},e)})))}function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function uo(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?co(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==so(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==so(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===so(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):co(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var lo=d({name:"stats",connector:!0});function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function po(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==fo(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==fo(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===fo(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ho(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var mo=d({name:"stats"}),go=c("Stats"),yo={text:function(e){return"".concat(e.areHitsSorted?(o=e.nbHits,t=e.hasNoSortedResults,r=e.hasOneSortedResults,n=e.hasManySortedResults,i=e.nbSortedHits,o="sorted out of ".concat(At(o)),t?"No relevant results ".concat(o):r?"1 relevant result ".concat(o):n?"".concat(At(i||0)," relevant results ").concat(o):""):(t=e.nbHits,e.hasNoResults?"No results":e.hasOneResult?"1 result":e.hasManyResults?"".concat(At(t)," results"):"")," found in ").concat(e.processingTimeMS,"ms");var t,r,n,i,o}};function bo(e){var t=e.templates,r=e.templateKey,n=e.ariaLabel,i=e.pageNumber,o=e.isDisabled,o=void 0!==o&&o,a=e.isSelected,s=e.cssClasses,c=e.createURL,u=e.createClickHandler;return D("li",{className:N(s.item,o&&s.disabledItem,e.className,void 0!==a&&a&&s.selectedItem)},D(m,o?{rootTagName:"span",rootProps:{className:s.link,"aria-label":n},templateKey:r,templates:t,data:{page:i+1}}:{rootTagName:"a",rootProps:{className:s.link,"aria-label":n,href:c(i),onClick:u(i)},templateKey:r,templates:t,data:{page:i+1}}))}function vo(r){function t(t){return function(e){1===e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),r.setCurrentPage(t))}}return D("div",{className:N(r.cssClasses.root,r.nbPages<=1&&r.cssClasses.noRefinementRoot)},D("ul",{className:r.cssClasses.list},r.showFirst&&D(bo,{ariaLabel:"First Page",className:r.cssClasses.firstPageItem,isDisabled:r.isFirstPage,templates:r.templates,templateKey:"first",pageNumber:0,createURL:r.createURL,cssClasses:r.cssClasses,createClickHandler:t}),r.showPrevious&&D(bo,{ariaLabel:"Previous Page",className:r.cssClasses.previousPageItem,isDisabled:r.isFirstPage,templates:r.templates,templateKey:"previous",pageNumber:r.currentPage-1,createURL:r.createURL,cssClasses:r.cssClasses,createClickHandler:t}),r.pages.map(function(e){return D(bo,{key:e,ariaLabel:"Page ".concat(e+1),className:r.cssClasses.pageItem,isSelected:e===r.currentPage,templates:r.templates,templateKey:"page",pageNumber:e,createURL:r.createURL,cssClasses:r.cssClasses,createClickHandler:t})}),r.showNext&&D(bo,{ariaLabel:"Next Page",className:r.cssClasses.nextPageItem,isDisabled:r.isLastPage,templates:r.templates,templateKey:"next",pageNumber:r.currentPage+1,createURL:r.createURL,cssClasses:r.cssClasses,createClickHandler:t}),r.showLast&&D(bo,{ariaLabel:"Last Page, Page ".concat(r.nbPages),className:r.cssClasses.lastPageItem,isDisabled:r.isLastPage,templates:r.templates,templateKey:"last",pageNumber:r.nbPages-1,createURL:r.createURL,cssClasses:r.cssClasses,createClickHandler:t})))}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function So(e){var t=e.start,r=void 0===t?0:t,t=e.step,t=void 0===t?1:t,n=0===t?1:t,t=Math.round((e.end-r)/n),i=Array(t);return((e=>{if(Array.isArray(e))return Oo(e)})(i)||(()=>{if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)})()||(e=>{var t;if(e)return"string"==typeof e?Oo(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Oo(e,void 0):void 0})(i)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()).map(function(e,t){return r+t*n})}function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t,r){(t=Po(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Po(e){e=(e=>{if("object"!==wo(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==wo(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(e);return"symbol"===wo(e)?e:String(e)}let v=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");jo(this,"currentPage",void 0),jo(this,"total",void 0),jo(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}for(var e=t,r=e.prototype,n=[{key:"pages",value:function(){var e,t=this.total,r=this.currentPage,n=this.padding;return 0===t?[0]:So((e=this.nbPagesDisplayed(n,t))===t?{end:t}:{start:r-(n=this.calculatePaddingLeft(r,n,t,e)),end:r+(e-n)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:r-t<=e?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}],i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,Po(o.key),o)}return Object.defineProperty(e,"prototype",{writable:!1}),t})();function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function J(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==_o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==_o(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===_o(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ro(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var xo=d({name:"pagination",connector:!0});function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function To(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(i),!0).forEach(function(e){var t,r;t=n,e=i[r=e],(r=(()=>{var e=(e=>{if("object"!==Eo(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!==Eo(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")})(r);return"symbol"===Eo(e)?e:String(e)})())in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Fo(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var K=c("Pagination"),ko=d({name:"pagination"}),Io={previous:function(){return""},next:function(){return""},page:function(e){e=e.page;return"".concat(e)},first:function(){return""},last:function(){return""}};let r=document.body,i=0,o=r.style.position,e={backTop:function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},getAbsPosition:function(e){let t=e.offsetLeft,r=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetLeft,r+=n.offsetTop,n=n.offsetParent;return{x:t,y:r}},observeResize:(e,t)=>{let r=document.createElement("iframe");return r.style.cssText="position:absolute;left:0;top:-100%;width:100%;height:100%;margin:0;border:none;opacity:0;visibility:hidden;pointer-events:none;",r.onload=()=>{r.contentWindow.onresize=()=>{t(e)}},e.appendChild(r),r},dateFormater:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,String(e.getFullYear()).substr(4-RegExp.$1.length)));for(let e in r)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[e]:("00"+r[e]).substr(String(r[e]).length)));return t},rem:()=>parseInt($("html").css("font-size"),10),rafTick:function(e,t){e||requestAnimationFrame(t)},stopBodyScroll:function(e){e?(i=window.scrollY,r.style.position="fixed",r.style.top=-i+"px",r.style.width="100%"):(r.style.position=o,r.style.top="",r.style.width="",window.scrollTo(0,i))},throttle:function(t,r,n=!1){let i;return function(){let e=arguments;i||(n?(i=setTimeout(()=>{i=void 0},r),t.apply(this,e)):i=setTimeout(()=>{i=void 0,t.apply(this,e)},r))}},debounce:function(t,r,n=!1){let i;return function(){let e=arguments;i&&clearTimeout(i),i=n?(i||t.apply(this,e),setTimeout(()=>{i=void 0},r)):setTimeout(()=>{t.apply(this,e)},r)}},isPostPage:()=>!!$(".post-body").length,isMobile:()=>window.matchMedia?window.matchMedia("screen and (max-width: 960px)").matches:(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=960},a=e;$(document).ready(function(){let r=window.algolia;if(r.applicationID&&r.apiKey&&r.indexName){var e=z()(r.applicationID,r.apiKey),e=n({indexName:r.indexName,searchClient:e,searchFunction:e=>{var t=$("#algolia-search-input").find("input");document.querySelector(".algolia-results").style.display=""===e.state.query?"none":"",t.val()&&e.search()},stalledSearchDelay:500});e.addWidgets([hr({hitsPerPage:r.hits.per_page||10}),(e=>{var t,n,i,o,a,s,c,u,l,f,h,r=(e=e||{}).container,p=void 0===(p=e.placeholder)?"":p,d=void 0===(d=e.cssClasses)?{}:d,m=void 0!==(m=e.autofocus)&&m,g=void 0===(g=e.searchAsYouType)||g,y=void 0!==(y=e.ignoreCompositionEvents)&&y,b=void 0===(b=e.showReset)||b,v=void 0===(v=e.showSubmit)||v,O=void 0===(O=e.showLoadingIndicator)||O,S=e.queryHook,e=void 0===(e=e.templates)?{}:e;if(r)return t=fi(r),r={root:N(B(),d.root),form:N(B({descendantName:"form"}),d.form),input:N(B({descendantName:"input"}),d.input),submit:N(B({descendantName:"submit"}),d.submit),submitIcon:N(B({descendantName:"submitIcon"}),d.submitIcon),reset:N(B({descendantName:"reset"}),d.reset),resetIcon:N(B({descendantName:"resetIcon"}),d.resetIcon),loadingIndicator:N(B({descendantName:"loadingIndicator"}),d.loadingIndicator),loadingIcon:N(B({descendantName:"loadingIcon"}),d.loadingIcon)},d=yi(yi({},j),e),n=(e={containerNode:t,cssClasses:r,placeholder:p,templates:d,autofocus:m,searchAsYouType:g,ignoreCompositionEvents:y,showReset:b,showSubmit:v,showLoadingIndicator:O}).containerNode,i=e.cssClasses,o=e.placeholder,a=e.templates,s=e.autofocus,c=e.searchAsYouType,u=e.ignoreCompositionEvents,l=e.showReset,f=e.showSubmit,h=e.showLoadingIndicator,yi(yi({},function(a,e){var t=1<arguments.length&&void 0!==e?e:P;return ai(a,li()),function(r){var n,i,e=(r||{}).queryHook,o=void 0===e?ui:e;return{$$type:"ais.searchBox",init:function(e){var t=e.instantSearchInstance;a(M(M({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;a(M(M({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("query",void 0)},getRenderState:function(e,t){return M(M({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper;return n||(n=function(e){o(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:e.state.query||"",refine:n,clear:i,widgetParams:r,isSearchStalled:"stalled"===e.instantSearchInstance.status}},getWidgetUiState:function(e,t){t=t.searchParameters.query||"";return""===t||e&&e.query===t?e:M(M({},e),{},{query:t})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameter("query",t.query||"")}}}}(function(e){var t=e.refine,r=e.query,e=e.isSearchStalled;Q(D(w,{query:r,placeholder:o,autofocus:s,refine:t,searchAsYouType:c,ignoreCompositionEvents:u,templates:a,showSubmit:f,showReset:l,showLoadingIndicator:h,isSearchStalled:e,cssClasses:i}),n)},function(){return Q(null,t)})({queryHook:S})),{},{$$widgetType:"ais.searchBox"});throw new Error(bi("The `container` option is required."))})({container:"#algolia-search-input",placeholder:r.labels.input_placeholder,showSubmit:!1,showReset:!1,showLoadingIndicator:!1}),(e=>{var t,r=(e=e||{}).container,n=e.escapeHTML,i=e.transformItems,o=void 0===(o=e.templates)?{}:o,e=void 0===(e=e.cssClasses)?{}:e;if(r)return t=fi(r),r=Xi({containerNode:t,cssClasses:e,renderState:{},templates:o}),Yi(Yi({},$i(Ai)(r,function(){return Q(null,t)})({escapeHTML:n,transformItems:i})),{},{$$widgetType:"ais.hits"});throw new Error(Zi("The `container` option is required."))})({container:"#algolia-hits",transformItems:(e,{results:t})=>""===t.query?[]:e,templates:{item:(e,{html:t,components:r})=>t`<a href="${e.permalink||siteMeta.root+e.path}" class="algolia-hit-item-link">
              ${r.Highlight({attribute:"title",hit:e,highlightedTagName:"em"})}
            </a> `,empty:({query:e},{html:t})=>""===e?null:t`<div class="algolia-hit-empty-inner-container">
              <i class="fas fa-drafting-compass fa-10x"></i>
              <div class="algolia-hit-empty-label">
                ${r.labels.hits_empty.replace(/\${query}/,e)}
              </div>
            </div>`},cssClasses:{item:"algolia-hit-item",list:"algolia-hit-list",root:"algolia-hit",emptyRoot:"algolia-hit-empty"}}),(e=>{var t,l,f,h,p,r=(e=e||{}).container,n=void 0===(n=e.cssClasses)?{}:n,e=void 0===(e=e.templates)?{}:e;if(r)return t=fi(r),r={root:N(go(),n.root),text:N(go({descendantName:"text"}),n.text)},l=(n={containerNode:t,cssClasses:r,templates:e,renderState:{}}).renderState,f=n.cssClasses,h=n.containerNode,p=n.templates,po(po({},function(n,e){var t=1<arguments.length&&void 0!==e?e:P;return ai(n,lo()),function(r){return{$$type:"ais.stats",init:function(e){var t=e.instantSearchInstance;n(uo(uo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(uo(uo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){t()},getRenderState:function(e,t){return uo(uo({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,e=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&0<t.appliedRelevancyStrictness&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:r}:{hitsPerPage:e.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:e.page||0,processingTimeMS:-1,query:e.query||"",widgetParams:r}}}}}(function(e,t){var r=e.hitsPerPage,n=e.nbHits,i=e.nbSortedHits,o=e.areHitsSorted,a=e.nbPages,s=e.page,c=e.processingTimeMS,u=e.query;t?l.templateProps=Vi({defaultTemplates:yo,templatesConfig:e.instantSearchInstance.templatesConfig,templates:p}):Q(D(ao,{cssClasses:f,hitsPerPage:r,nbHits:n,nbSortedHits:i,areHitsSorted:o,nbPages:a,page:s,processingTimeMS:c,query:u,templateProps:l.templateProps}),h)},function(){return Q(null,t)})({})),{},{$$widgetType:"ais.stats"});throw new Error(mo("The `container` option is required."))})({container:"#algolia-stats",templates:{text:(e,{html:t})=>t`${r.labels.hits_stats.replace(/\$\{hits\}/,e.nbHits).replace(/\$\{time\}/,e.processingTimeMS)}
              <span class="algolia-powered">
                <img
                  src="${siteMeta.root}assets/algolia_logo.svg"
                  alt="Algolia"
                />
              </span>`},cssClasses:{root:"algolia-stat-root"}}),(e=>{var t,u,l,f,h,p,d,m,g,r=(e=e||{}).container,n=void 0===(n=e.templates)?{}:n,i=void 0===(i=e.cssClasses)?{}:i,o=e.totalPages,a=e.padding,s=void 0===(s=e.showFirst)||s,c=void 0===(c=e.showLast)||c,y=void 0===(y=e.showPrevious)||y,b=void 0===(b=e.showNext)||b,e=void 0===(e=e.scrollTo)?"body":e;if(r)return t=fi(r),e=!1!==(r=!0===e?"body":e)&&fi(r),r={root:N(K(),i.root),noRefinementRoot:N(K({modifierName:"noRefinement"}),i.noRefinementRoot),list:N(K({descendantName:"list"}),i.list),item:N(K({descendantName:"item"}),i.item),firstPageItem:N(K({descendantName:"item",modifierName:"firstPage"}),i.firstPageItem),lastPageItem:N(K({descendantName:"item",modifierName:"lastPage"}),i.lastPageItem),previousPageItem:N(K({descendantName:"item",modifierName:"previousPage"}),i.previousPageItem),nextPageItem:N(K({descendantName:"item",modifierName:"nextPage"}),i.nextPageItem),pageItem:N(K({descendantName:"item",modifierName:"page"}),i.pageItem),selectedItem:N(K({descendantName:"item",modifierName:"selected"}),i.selectedItem),disabledItem:N(K({descendantName:"item",modifierName:"disabled"}),i.disabledItem),link:N(K({descendantName:"link"}),i.link)},i=To(To({},Io),n),u=(n={containerNode:t,cssClasses:r,templates:i,showFirst:s,showLast:c,showPrevious:y,showNext:b,scrollToNode:e}).containerNode,l=n.cssClasses,f=n.templates,h=n.showFirst,p=n.showLast,d=n.showPrevious,m=n.showNext,g=n.scrollToNode,To(To({},function(r,e){var t=1<arguments.length&&void 0!==e?e:P;return ai(r,xo()),function(o){var e=o||{},a=e.totalPages,e=e.padding,s=new v({currentPage:0,total:0,padding:void 0===e?3:e}),c={};return{$$type:"ais.pagination",init:function(e){var t=e.instantSearchInstance;r(J(J({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(J(J({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){t=t.searchParameters.page||0;return t?J(J({},e),{},{page:t+1}):e},getWidgetSearchParameters:function(e,t){t=t.uiState,t=t.page?t.page-1:0;return e.setQueryParameter("page",t)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.state,i=e.createURL,e=(c.refine||(c.refine=function(e){r.setPage(e),r.search()}),c.createURL||(c.createURL=function(t){return i(function(e){return J(J({},e),{},{page:t+1})})}),n.page||0),n=(n=(t||{nbPages:0}).nbPages,void 0!==a?Math.min(a,n):n);return s.currentPage=e,s.total=n,{createURL:c.createURL,refine:c.refine,canRefine:1<n,currentRefinement:e,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:n,pages:t?s.pages():[],isFirstPage:s.isFirstPage(),isLastPage:s.isLastPage(),widgetParams:o}},getRenderState:function(e,t){return J(J({},e),{},{pagination:this.getWidgetRenderState(t)})}}}}(function(e,t){var r=e.createURL,n=e.currentRefinement,i=e.nbPages,o=e.pages,a=e.isFirstPage,s=e.isLastPage,c=e.refine;t||Q(D(vo,{createURL:r,cssClasses:l,currentPage:n,templates:f,nbPages:i,pages:o,isFirstPage:a,isLastPage:s,setCurrentPage:function(e){c(e),!1!==g&&g.scrollIntoView()},showFirst:h,showLast:p,showPrevious:d,showNext:m}),u)},function(){return Q(null,t)})({totalPages:o,padding:a})),{},{$$widgetType:"ais.pagination"});throw new Error(ko("The `container` option is required."))})({container:"#algolia-pagination",scrollTo:!1,templates:{first:(e,{html:t})=>t`<span><i class="fa fa-angle-double-left"></i></span>`,last:(e,{html:t})=>t`<span><i class="fa fa-angle-double-right"></i></span>`,previous:(e,{html:t})=>t`<span><i class="fa fa-angle-left"></i></span>`,next:(e,{html:t})=>t`<span><i class="fa fa-angle-right"></i></span`}})]),e.start();let t=()=>{$(".ais-SearchBox-form").trigger("reset"),$(".popup").hide(),$(".algolia-pop-overlay").remove(),$("body").css("overflow",""),a.stopBodyScroll(!1)};$(".popup-trigger").on("click",function(e){e.stopPropagation(),$("body").prepend('<div class="search-popup-overlay algolia-pop-overlay"></div>').css("overflow","hidden"),$(".popup").toggle(),$("#algolia-search-input").find("input").focus(),a.stopBodyScroll(!0),$(".algolia-pop-overlay").click(function(){t()})}),$(".popup-btn-close").click(function(){t()}),$(document).on("keydown",function(e){"Escape"===e.key&&t()}),$(".site-search").removeClass("site-search-loading")}else window.console.error("Algolia Settings are invalid. Check docs: https://github.com/fi3ework/hexo-theme-archer/wiki/%E5%90%AF%E7%94%A8-Algolia-%E6%90%9C%E7%B4%A2#%E8%8E%B7%E5%8F%96-keys")})}})();